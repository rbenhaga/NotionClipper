{"file":"C:\\Users\\rayan\\Desktop\\Dev\\NotionClipper\\packages\\notion-parser\\tests\\unit\\parsers\\AudioParser.test.ts","mappings":";AAAA;;;GAGG;;AAEH,4DAAyD;AAGzD,QAAQ,CAAC,8CAA8C,EAAE,GAAG,EAAE;IAC5D,QAAQ,CAAC,iCAAiC,EAAE,GAAG,EAAE;QAC/C,EAAE,CAAC,sCAAsC,EAAE,GAAG,EAAE;YAC9C,MAAM,QAAQ,GAAG,iCAAiC,CAAC;YACnD,MAAM,MAAM,GAAG,IAAA,2BAAY,EAAC,QAAQ,CAAC,CAAC;YAEtC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAClC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;YAEtC,MAAM,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAQ,CAAC;YAC3C,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACtC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAC/C,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACvD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,0DAA0D,EAAE,GAAG,EAAE;YAClE,MAAM,gBAAgB,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;YAEpF,gBAAgB,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;gBAChC,MAAM,QAAQ,GAAG,6BAA6B,MAAM,EAAE,CAAC;gBACvD,MAAM,MAAM,GAAG,IAAA,2BAAY,EAAC,QAAQ,CAAC,CAAC;gBAEtC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAClC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;gBAEtC,MAAM,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAQ,CAAC;gBAC3C,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBACtC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACvD,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,kCAAkC,EAAE,GAAG,EAAE;YAC1C,MAAM,OAAO,GAAG;;gCAEU,CAAC;YAE3B,MAAM,MAAM,GAAG,IAAA,2BAAY,EAAC,OAAO,CAAC,CAAC;YAErC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAClC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;YAEtC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAU,EAAE,EAAE;gBACnC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBACjC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gBAC1C,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC;YAC/D,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,6CAA6C,EAAE,GAAG,EAAE;YACrD,MAAM,aAAa,GAAG;gBACpB,wCAAwC;gBACxC,uCAAuC;gBACvC,0CAA0C;gBAC1C,sCAAsC;aACvC,CAAC;YAEF,aAAa,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;gBAC1B,MAAM,MAAM,GAAG,IAAA,2BAAY,EAAC,GAAG,CAAC,CAAC;gBAEjC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAClC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;gBAEtC,uDAAuD;gBACvD,MAAM,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAQ,CAAC;gBACtC,MAAM,CAAC,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YACtD,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,kCAAkC,EAAE,GAAG,EAAE;QAChD,EAAE,CAAC,kDAAkD,EAAE,GAAG,EAAE;YAC1D,MAAM,QAAQ,GAAG,8BAA8B,CAAC;YAChD,MAAM,MAAM,GAAG,IAAA,2BAAY,EAAC,QAAQ,CAAC,CAAC;YAEtC,MAAM,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAQ,CAAC;YAE3C,mDAAmD;YACnD,MAAM,CAAC,UAAU,CAAC,CAAC,aAAa,CAAC;gBAC/B,IAAI,EAAE,OAAO;gBACb,KAAK,EAAE;oBACL,IAAI,EAAE,UAAU;oBAChB,QAAQ,EAAE;wBACR,GAAG,EAAE,QAAQ;qBACd;oBACD,OAAO,EAAE,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC;iBAC3B;aACF,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,+CAA+C,EAAE,GAAG,EAAE;YACvD,MAAM,QAAQ,GAAG,8BAA8B,CAAC;YAChD,MAAM,MAAM,GAAG,IAAA,2BAAY,EAAC,QAAQ,CAAC,CAAC;YAEtC,MAAM,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAQ,CAAC;YAC3C,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAC/C,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,gDAAgD,EAAE,GAAG,EAAE;YACxD,MAAM,QAAQ,GAAG,sDAAsD,CAAC;YACxE,MAAM,MAAM,GAAG,IAAA,2BAAY,EAAC,QAAQ,CAAC,CAAC;YAEtC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAClC,MAAM,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAQ,CAAC;YAC3C,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACvD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,yCAAyC,EAAE,GAAG,EAAE;YACjD,MAAM,QAAQ,GAAG,oCAAoC,CAAC;YACtD,MAAM,MAAM,GAAG,IAAA,2BAAY,EAAC,QAAQ,CAAC,CAAC;YAEtC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAClC,MAAM,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAQ,CAAC;YAC3C,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACvD,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,yBAAyB,EAAE,GAAG,EAAE;QACvC,EAAE,CAAC,8BAA8B,EAAE,GAAG,EAAE;YACtC,MAAM,YAAY,GAAG;gBACnB,+BAA+B;gBAC/B,+BAA+B;gBAC/B,kCAAkC;gBAClC,8BAA8B;aAC/B,CAAC;YAEF,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;gBACzB,MAAM,MAAM,GAAG,IAAA,2BAAY,EAAC,GAAG,CAAC,CAAC;gBAEjC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAClC,MAAM,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAQ,CAAC;gBACtC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACvC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,iDAAiD,EAAE,GAAG,EAAE;YACzD,MAAM,SAAS,GAAG;gBAChB,+BAA+B;gBAC/B,+BAA+B;gBAC/B,+BAA+B;aAChC,CAAC;YAEF,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;gBACtB,MAAM,MAAM,GAAG,IAAA,2BAAY,EAAC,GAAG,CAAC,CAAC;gBAEjC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAClC,MAAM,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAQ,CAAC;gBACtC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACnC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,qCAAqC,EAAE,GAAG,EAAE;YAC7C,MAAM,WAAW,GAAG;gBAClB,eAAe;gBACf,6BAA6B;gBAC7B,yBAAyB;gBACzB,6BAA6B;aAC9B,CAAC;YAEF,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;gBACxB,MAAM,MAAM,GAAG,IAAA,2BAAY,EAAC,GAAG,CAAC,CAAC;gBAEjC,kDAAkD;gBAClD,IAAI,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;oBAC7B,MAAM,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAQ,CAAC;oBACtC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBACvC,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,yBAAyB,EAAE,GAAG,EAAE;QACvC,EAAE,CAAC,mCAAmC,EAAE,GAAG,EAAE;YAC3C,MAAM,QAAQ,GAAG,8BAA8B,CAAC;YAEhD,MAAM,MAAM,GAAG,IAAA,2BAAY,EAAC,QAAQ,CAAC,CAAC;YAEtC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAClC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;YACtC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,wCAAwC,EAAE,GAAG,EAAE;YAChD,MAAM,QAAQ,GAAG,8BAA8B,CAAC;YAEhD,MAAM,MAAM,GAAG,IAAA,2BAAY,EAAC,QAAQ,EAAE;gBACpC,UAAU,EAAE,EAAE,aAAa,EAAE,IAAI,EAAE;aACpC,CAAC,CAAC;YAEH,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAClC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;QACxC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,2BAA2B,EAAE,GAAG,EAAE;QACzC,EAAE,CAAC,mCAAmC,EAAE,GAAG,EAAE;YAC3C,MAAM,aAAa,GAAG;gBACpB,6BAA6B;gBAC7B,iCAAiC;gBACjC,wBAAwB;aACzB,CAAC;YAEF,aAAa,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;gBAC1B,MAAM,MAAM,GAAG,IAAA,2BAAY,EAAC,GAAG,CAAC,CAAC;gBAEjC,oDAAoD;gBACpD,IAAI,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;oBAC7B,MAAM,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAQ,CAAC;oBACtC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBACvC,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,yCAAyC,EAAE,GAAG,EAAE;YACjD,MAAM,OAAO,GAAG,sBAAsB,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC;YACnE,MAAM,MAAM,GAAG,IAAA,2BAAY,EAAC,OAAO,CAAC,CAAC;YAErC,yDAAyD;YACzD,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,kDAAkD,EAAE,GAAG,EAAE;YAC1D,MAAM,WAAW,GAAG;gBAClB,+CAA+C;gBAC/C,2CAA2C;gBAC3C,gDAAgD;gBAChD,yCAAyC;aAC1C,CAAC;YAEF,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;gBACxB,MAAM,MAAM,GAAG,IAAA,2BAAY,EAAC,GAAG,CAAC,CAAC;gBAEjC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAClC,IAAI,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;oBAC7B,MAAM,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAQ,CAAC;oBACtC,MAAM,CAAC,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBACtD,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,gCAAgC,EAAE,GAAG,EAAE;QAC9C,EAAE,CAAC,mDAAmD,EAAE,GAAG,EAAE;YAC3D,MAAM,QAAQ,GAAG,iCAAiC,CAAC;YACnD,MAAM,MAAM,GAAG,IAAA,2BAAY,EAAC,QAAQ,EAAE,EAAE,eAAe,EAAE,IAAI,EAAE,CAAC,CAAC;YAEjE,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,WAAW,EAAE,CAAC;YACtC,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACpD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,qCAAqC,EAAE,GAAG,EAAE;YAC7C,MAAM,SAAS,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAChD,4BAA4B,CAAC,MAAM,CACpC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAEb,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;YAC7B,MAAM,MAAM,GAAG,IAAA,2BAAY,EAAC,SAAS,CAAC,CAAC;YACvC,MAAM,cAAc,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,SAAS,CAAC;YAE9C,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAClC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;YACxC,MAAM,CAAC,cAAc,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC,iBAAiB;QAC7D,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,wCAAwC,EAAE,GAAG,EAAE;YAChD,MAAM,SAAS,GAAG;gBAChB,+BAA+B;gBAC/B,+BAA+B;gBAC/B,+BAA+B;aAChC,CAAC;YAEF,MAAM,OAAO,GAAG,SAAS,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,IAAA,2BAAY,EAAC,GAAG,CAAC,CAAC,CAAC;YAExD,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;gBACvB,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAClC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;YACxC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,4CAA4C,EAAE,GAAG,EAAE;QAC1D,EAAE,CAAC,6CAA6C,EAAE,GAAG,EAAE;YACrD,MAAM,YAAY,GAAG;;;;;;;+CAOoB,CAAC;YAE1C,MAAM,MAAM,GAAG,IAAA,2BAAY,EAAC,YAAY,EAAE,EAAE,WAAW,EAAE,UAAU,EAAE,CAAC,CAAC;YAEvE,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAClC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;YAEhD,4CAA4C;YAC5C,MAAM,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,KAAU,EAAE,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YACjE,MAAM,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;YAC1C,MAAM,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;QAC5C,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,8CAA8C,EAAE,GAAG,EAAE;YACtD,MAAM,iBAAiB,GAAG,qDAAqD,CAAC;YAChF,MAAM,MAAM,GAAG,IAAA,2BAAY,EAAC,iBAAiB,EAAE,EAAE,WAAW,EAAE,UAAU,EAAE,CAAC,CAAC;YAE5E,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAClC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;YAEtC,MAAM,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAQ,CAAC;YAC1C,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YACzC,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,8BAA8B,CAAC,CAAC;QACrF,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,sBAAsB,EAAE,GAAG,EAAE;QACpC,EAAE,CAAC,kDAAkD,EAAE,GAAG,EAAE;YAC1D,MAAM,gBAAgB,GAAG,kDAAkD,CAAC;YAC5E,MAAM,MAAM,GAAG,IAAA,2BAAY,EAAC,gBAAgB,CAAC,CAAC;YAE9C,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAClC,yCAAyC;YACzC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;QAClD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,4DAA4D,EAAE,GAAG,EAAE;YACpE,MAAM,YAAY,GAAG,kBAAkB,CAAC;YACxC,MAAM,MAAM,GAAG,IAAA,2BAAY,EAAC,YAAY,CAAC,CAAC;YAE1C,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAClC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,0BAA0B;QAC7E,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,gCAAgC,EAAE,GAAG,EAAE;YACxC,MAAM,QAAQ,GAAG,EAAE,CAAC;YACpB,MAAM,MAAM,GAAG,IAAA,2BAAY,EAAC,QAAQ,CAAC,CAAC;YAEtC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAClC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","names":[],"sources":["C:\\Users\\rayan\\Desktop\\Dev\\NotionClipper\\packages\\notion-parser\\tests\\unit\\parsers\\AudioParser.test.ts"],"sourcesContent":["/**\n * Tests unitaires pour AudioParser - Nouvelle fonctionnalité v2.1\n * Couvre la détection et parsing des URLs audio selon le cahier des charges\n */\n\nimport { parseContent } from '../../../src/parseContent';\nimport type { NotionBlock } from '../../../src/types';\n\ndescribe('AudioParser - Nouvelle fonctionnalité v2.1 ⭐', () => {\n  describe('Audio URL Detection and Parsing', () => {\n    it('should parse MP3 audio URL correctly', () => {\n      const audioUrl = 'https://example.com/podcast.mp3';\n      const result = parseContent(audioUrl);\n      \n      expect(result.success).toBe(true);\n      expect(result.blocks).toHaveLength(1);\n      \n      const audioBlock = result.blocks[0] as any;\n      expect(audioBlock.type).toBe('audio');\n      expect(audioBlock.audio.type).toBe('external');\n      expect(audioBlock.audio.external.url).toBe(audioUrl);\n    });\n\n    it('should support all audio formats from cahier des charges', () => {\n      const supportedFormats = ['mp3', 'wav', 'ogg', 'oga', 'm4a', 'aac', 'flac', 'webm'];\n      \n      supportedFormats.forEach(format => {\n        const audioUrl = `https://example.com/audio.${format}`;\n        const result = parseContent(audioUrl);\n        \n        expect(result.success).toBe(true);\n        expect(result.blocks).toHaveLength(1);\n        \n        const audioBlock = result.blocks[0] as any;\n        expect(audioBlock.type).toBe('audio');\n        expect(audioBlock.audio.external.url).toBe(audioUrl);\n      });\n    });\n\n    it('should parse multiple audio URLs', () => {\n      const content = `https://example.com/song1.mp3\nhttps://example.com/song2.wav\nhttps://example.com/podcast.ogg`;\n      \n      const result = parseContent(content);\n      \n      expect(result.success).toBe(true);\n      expect(result.blocks).toHaveLength(3);\n      \n      result.blocks.forEach((block: any) => {\n        expect(block.type).toBe('audio');\n        expect(block.audio.type).toBe('external');\n        expect(block.audio.external.url).toMatch(/\\.(mp3|wav|ogg)$/);\n      });\n    });\n\n    it('should handle audio streaming platform URLs', () => {\n      const streamingUrls = [\n        'https://soundcloud.com/user/track-name',\n        'https://open.spotify.com/track/123456',\n        'https://music.youtube.com/watch?v=abcdef',\n        'https://bandcamp.com/track/song-name'\n      ];\n      \n      streamingUrls.forEach(url => {\n        const result = parseContent(url);\n        \n        expect(result.success).toBe(true);\n        expect(result.blocks).toHaveLength(1);\n        \n        // Streaming URLs should be bookmarks, not direct audio\n        const block = result.blocks[0] as any;\n        expect(['bookmark', 'audio']).toContain(block.type);\n      });\n    });\n  });\n\n  describe('Audio Block Structure Validation', () => {\n    it('should create valid Notion audio block structure', () => {\n      const audioUrl = 'https://example.com/test.mp3';\n      const result = parseContent(audioUrl);\n      \n      const audioBlock = result.blocks[0] as any;\n      \n      // Validate block structure according to Notion API\n      expect(audioBlock).toMatchObject({\n        type: 'audio',\n        audio: {\n          type: 'external',\n          external: {\n            url: audioUrl\n          },\n          caption: expect.any(Array)\n        }\n      });\n    });\n\n    it('should include empty caption array by default', () => {\n      const audioUrl = 'https://example.com/test.wav';\n      const result = parseContent(audioUrl);\n      \n      const audioBlock = result.blocks[0] as any;\n      expect(audioBlock.audio.caption).toEqual([]);\n    });\n\n    it('should handle audio URLs with query parameters', () => {\n      const audioUrl = 'https://example.com/audio.mp3?version=1&quality=high';\n      const result = parseContent(audioUrl);\n      \n      expect(result.success).toBe(true);\n      const audioBlock = result.blocks[0] as any;\n      expect(audioBlock.audio.external.url).toBe(audioUrl);\n    });\n\n    it('should handle audio URLs with fragments', () => {\n      const audioUrl = 'https://example.com/audio.mp3#t=30';\n      const result = parseContent(audioUrl);\n      \n      expect(result.success).toBe(true);\n      const audioBlock = result.blocks[0] as any;\n      expect(audioBlock.audio.external.url).toBe(audioUrl);\n    });\n  });\n\n  describe('Audio Format Validation', () => {\n    it('should reject non-audio URLs', () => {\n      const nonAudioUrls = [\n        'https://example.com/image.jpg',\n        'https://example.com/video.mp4',\n        'https://example.com/document.pdf',\n        'https://example.com/text.txt'\n      ];\n      \n      nonAudioUrls.forEach(url => {\n        const result = parseContent(url);\n        \n        expect(result.success).toBe(true);\n        const block = result.blocks[0] as any;\n        expect(block.type).not.toBe('audio');\n      });\n    });\n\n    it('should handle case-insensitive audio extensions', () => {\n      const audioUrls = [\n        'https://example.com/audio.MP3',\n        'https://example.com/audio.WAV',\n        'https://example.com/audio.OGG'\n      ];\n      \n      audioUrls.forEach(url => {\n        const result = parseContent(url);\n        \n        expect(result.success).toBe(true);\n        const block = result.blocks[0] as any;\n        expect(block.type).toBe('audio');\n      });\n    });\n\n    it('should validate URL format strictly', () => {\n      const invalidUrls = [\n        'not-a-url.mp3',\n        'ftp://example.com/audio.mp3',\n        'file:///local/audio.mp3',\n        'javascript:alert(\"xss\").mp3'\n      ];\n      \n      invalidUrls.forEach(url => {\n        const result = parseContent(url);\n        \n        // Should not create audio blocks for invalid URLs\n        if (result.blocks.length > 0) {\n          const block = result.blocks[0] as any;\n          expect(block.type).not.toBe('audio');\n        }\n      });\n    });\n  });\n\n  describe('Audio Detection Options', () => {\n    it('should handle audio URL detection', () => {\n      const audioUrl = 'https://example.com/test.mp3';\n      \n      const result = parseContent(audioUrl);\n      \n      expect(result.success).toBe(true);\n      expect(result.blocks).toHaveLength(1);\n      expect(result.blocks[0].type).toBe('audio');\n    });\n\n    it('should handle audio conversion options', () => {\n      const audioUrl = 'https://example.com/test.mp3';\n      \n      const result = parseContent(audioUrl, {\n        conversion: { convertImages: true }\n      });\n      \n      expect(result.success).toBe(true);\n      expect(result.blocks).toHaveLength(1);\n    });\n  });\n\n  describe('Audio Security Validation', () => {\n    it('should block malicious audio URLs', () => {\n      const maliciousUrls = [\n        'javascript:alert(\"xss\").mp3',\n        'data:audio/mp3;base64,malicious',\n        'file:///etc/passwd.mp3'\n      ];\n      \n      maliciousUrls.forEach(url => {\n        const result = parseContent(url);\n        \n        // Should not create audio blocks for malicious URLs\n        if (result.blocks.length > 0) {\n          const block = result.blocks[0] as any;\n          expect(block.type).not.toBe('audio');\n        }\n      });\n    });\n\n    it('should validate audio URL length limits', () => {\n      const longUrl = 'https://example.com/' + 'a'.repeat(2000) + '.mp3';\n      const result = parseContent(longUrl);\n      \n      // Should handle gracefully (may create bookmark instead)\n      expect(result.success).toBe(true);\n    });\n\n    it('should handle audio URLs with special characters', () => {\n      const specialUrls = [\n        'https://example.com/audio%20with%20spaces.mp3',\n        'https://example.com/audio-with-dashes.mp3',\n        'https://example.com/audio_with_underscores.mp3',\n        'https://example.com/audio.with.dots.mp3'\n      ];\n      \n      specialUrls.forEach(url => {\n        const result = parseContent(url);\n        \n        expect(result.success).toBe(true);\n        if (result.blocks.length > 0) {\n          const block = result.blocks[0] as any;\n          expect(['audio', 'bookmark']).toContain(block.type);\n        }\n      });\n    });\n  });\n\n  describe('Audio Metadata and Performance', () => {\n    it('should include audio metadata in detection result', () => {\n      const audioUrl = 'https://example.com/podcast.mp3';\n      const result = parseContent(audioUrl, { includeMetadata: true });\n      \n      expect(result.metadata).toBeDefined();\n      expect(result.metadata?.detectedType).toBe('url');\n    });\n\n    it('should parse audio URLs efficiently', () => {\n      const audioUrls = Array(100).fill(0).map((_, i) => \n        `https://example.com/audio${i}.mp3`\n      ).join('\\n');\n      \n      const startTime = Date.now();\n      const result = parseContent(audioUrls);\n      const processingTime = Date.now() - startTime;\n      \n      expect(result.success).toBe(true);\n      expect(result.blocks).toHaveLength(100);\n      expect(processingTime).toBeLessThan(100); // Should be fast\n    });\n\n    it('should handle concurrent audio parsing', () => {\n      const audioUrls = [\n        'https://example.com/song1.mp3',\n        'https://example.com/song2.wav',\n        'https://example.com/song3.ogg'\n      ];\n      \n      const results = audioUrls.map(url => parseContent(url));\n      \n      results.forEach(result => {\n        expect(result.success).toBe(true);\n        expect(result.blocks).toHaveLength(1);\n      });\n    });\n  });\n\n  describe('Audio Integration with Other Content Types', () => {\n    it('should handle mixed content with audio URLs', () => {\n      const mixedContent = `# My Playlist\n\nHere are some great songs:\n\nhttps://example.com/song1.mp3\nhttps://example.com/song2.wav\n\n**Description**: These are my favorite tracks.`;\n      \n      const result = parseContent(mixedContent, { contentType: 'markdown' });\n      \n      expect(result.success).toBe(true);\n      expect(result.blocks.length).toBeGreaterThan(1);\n      \n      // Should contain both text and audio blocks\n      const blockTypes = result.blocks.map((block: any) => block.type);\n      expect(blockTypes).toContain('heading_1');\n      expect(blockTypes).toContain('paragraph');\n    });\n\n    it('should preserve audio URLs in markdown links', () => {\n      const markdownWithAudio = '[Listen to this song](https://example.com/song.mp3)';\n      const result = parseContent(markdownWithAudio, { contentType: 'markdown' });\n      \n      expect(result.success).toBe(true);\n      expect(result.blocks).toHaveLength(1);\n      \n      const paragraph = result.blocks[0] as any;\n      expect(paragraph.type).toBe('paragraph');\n      expect(paragraph.paragraph.rich_text[0].href).toBe('https://example.com/song.mp3');\n    });\n  });\n\n  describe('Audio Error Handling', () => {\n    it('should handle malformed audio content gracefully', () => {\n      const malformedContent = 'https://example.com/audio.mp3 but this is broken';\n      const result = parseContent(malformedContent);\n      \n      expect(result.success).toBe(true);\n      // Should handle as text or mixed content\n      expect(result.blocks.length).toBeGreaterThan(0);\n    });\n\n    it('should provide meaningful error messages for invalid audio', () => {\n      const invalidAudio = 'not-an-audio-url';\n      const result = parseContent(invalidAudio);\n      \n      expect(result.success).toBe(true);\n      expect(result.blocks[0].type).toBe('paragraph'); // Should fallback to text\n    });\n\n    it('should handle empty audio URLs', () => {\n      const emptyUrl = '';\n      const result = parseContent(emptyUrl);\n      \n      expect(result.success).toBe(true);\n      expect(result.blocks).toEqual([]);\n    });\n  });\n});"],"version":3}