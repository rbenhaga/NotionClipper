1fae6a281a5d5d7e9b2dfe4211e6b362
"use strict";
/**
 * Tests unitaires pour CodeParser - Cahier des Charges v2.1
 * Couvre le parsing de code avec dÃ©tection de langage complÃ¨te
 */
Object.defineProperty(exports, "__esModule", { value: true });
const CodeParser_1 = require("../../../src/parsers/CodeParser");
const parseContent_1 = require("../../../src/parseContent");
describe('CodeParser - Cahier des Charges v2.1', () => {
    let parser;
    beforeEach(() => {
        parser = new CodeParser_1.CodeParser();
    });
    describe('Language Detection - JavaScript/TypeScript', () => {
        it('should detect JavaScript with function declarations', () => {
            const jsCode = 'function hello() {\n  console.log("Hello World");\n  return true;\n}';
            const result = parser.parse(jsCode);
            expect(result).toHaveLength(1);
            expect(result[0]?.type).toBe('code');
            expect(result[0]?.metadata?.language).toBe('javascript');
        });
        it('should detect JavaScript with arrow functions', () => {
            const jsCode = 'const hello = () => {\n  console.log("Hello");\n};';
            const result = parser.parse(jsCode);
            expect(result[0]?.metadata?.language).toBe('javascript');
        });
        it('should detect JavaScript with ES6 imports', () => {
            const jsCode = 'import React from "react";\nconst component = () => <div>Hello</div>;';
            const result = parser.parse(jsCode);
            expect(result[0]?.metadata?.language).toBe('javascript');
        });
        it('should detect TypeScript with type annotations', () => {
            const tsCode = 'interface User {\n  name: string;\n  age: number;\n}\nfunction greet(user: User): string {\n  return `Hello ${user.name}`;\n}';
            const result = parser.parse(tsCode);
            expect(result[0]?.metadata?.language).toBe('typescript');
        });
        it('should detect TypeScript with generic types', () => {
            const tsCode = 'function identity<T>(arg: T): T {\n  return arg;\n}';
            const result = parser.parse(tsCode);
            expect(result[0]?.metadata?.language).toBe('typescript');
        });
    });
    describe('Language Detection - Python', () => {
        it('should detect Python with function definitions', () => {
            const pythonCode = 'def hello():\n    print("Hello World")\n    return True';
            const result = parser.parse(pythonCode);
            expect(result[0]?.metadata?.language).toBe('python');
        });
        it('should detect Python with class definitions', () => {
            const pythonCode = 'class MyClass:\n    def __init__(self):\n        self.value = 42';
            const result = parser.parse(pythonCode);
            expect(result[0]?.metadata?.language).toBe('python');
        });
        it('should detect Python with imports', () => {
            const pythonCode = 'import os\nfrom datetime import datetime\n\nprint("Hello")';
            const result = parser.parse(pythonCode);
            expect(result[0]?.metadata?.language).toBe('python');
        });
        it('should detect Python with list comprehensions', () => {
            const pythonCode = 'numbers = [x for x in range(10) if x % 2 == 0]';
            const result = parser.parse(pythonCode);
            expect(result[0]?.metadata?.language).toBe('python');
        });
    });
    describe('Language Detection - Java', () => {
        it('should detect Java with class declarations', () => {
            const javaCode = 'public class HelloWorld {\n    public static void main(String[] args) {\n        System.out.println("Hello World");\n    }\n}';
            const result = parser.parse(javaCode);
            expect(result[0]?.metadata?.language).toBe('java');
        });
        it('should detect Java with imports', () => {
            const javaCode = 'import java.util.List;\nimport java.util.ArrayList;\n\npublic class Test {}';
            const result = parser.parse(javaCode);
            expect(result[0]?.metadata?.language).toBe('java');
        });
    });
    describe('Language Detection - C/C++', () => {
        it('should detect C with includes and main function', () => {
            const cCode = '#include <stdio.h>\n\nint main() {\n    printf("Hello World");\n    return 0;\n}';
            const result = parser.parse(cCode);
            expect(result[0]?.metadata?.language).toBe('c');
        });
        it('should detect C++ with std namespace', () => {
            const cppCode = '#include <iostream>\n\nint main() {\n    std::cout << "Hello World" << std::endl;\n    return 0;\n}';
            const result = parser.parse(cppCode);
            expect(result[0]?.metadata?.language).toBe('c++');
        });
    });
    describe('Language Detection - Other Languages', () => {
        it('should detect C# with using statements', () => {
            const csharpCode = 'using System;\n\nnamespace HelloWorld {\n    public class Program {\n        public static void Main() {\n            Console.WriteLine("Hello World");\n        }\n    }\n}';
            const result = parser.parse(csharpCode);
            expect(result[0]?.metadata?.language).toBe('c#');
        });
        it('should detect PHP with PHP tags', () => {
            const phpCode = '<?php\n$name = "World";\necho "Hello " . $name;\n?>';
            const result = parser.parse(phpCode);
            expect(result[0]?.metadata?.language).toBe('php');
        });
        it('should detect Ruby with def and end', () => {
            const rubyCode = 'def hello\n  puts "Hello World"\nend\n\nhello';
            const result = parser.parse(rubyCode);
            expect(result[0]?.metadata?.language).toBe('ruby');
        });
        it('should detect Go with package and func', () => {
            const goCode = 'package main\n\nimport "fmt"\n\nfunc main() {\n    fmt.Println("Hello World")\n}';
            const result = parser.parse(goCode);
            expect(result[0]?.metadata?.language).toBe('go');
        });
        it('should detect Rust with fn and println!', () => {
            const rustCode = 'fn main() {\n    println!("Hello World");\n}';
            const result = parser.parse(rustCode);
            expect(result[0]?.metadata?.language).toBe('rust');
        });
        it('should detect SQL with SELECT statements', () => {
            const sqlCode = 'SELECT name, age FROM users WHERE age > 18 ORDER BY name;';
            const result = parser.parse(sqlCode);
            expect(result[0]?.metadata?.language).toBe('sql');
        });
        it('should detect CSS with selectors and properties', () => {
            const cssCode = '.container {\n  display: flex;\n  justify-content: center;\n  background-color: #f0f0f0;\n}';
            const result = parser.parse(cssCode);
            expect(result[0]?.metadata?.language).toBe('css');
        });
        it('should detect HTML with tags', () => {
            const htmlCode = '<!DOCTYPE html>\n<html>\n<head>\n    <title>Test</title>\n</head>\n<body>\n    <h1>Hello World</h1>\n</body>\n</html>';
            const result = parser.parse(htmlCode);
            expect(result[0]?.metadata?.language).toBe('html');
        });
    });
    describe('Language Detection - Fallback', () => {
        it('should fallback to plain text for unknown languages', () => {
            const unknownCode = 'some unknown syntax here that does not match any pattern';
            const result = parser.parse(unknownCode);
            expect(result[0]?.metadata?.language).toBe('plain text');
        });
        it('should handle mixed language content', () => {
            const mixedCode = '// JavaScript comment\nfunction test() {}\n/* CSS comment */\n.class { color: red; }';
            const result = parser.parse(mixedCode);
            // Should detect the most prominent language (JavaScript in this case)
            expect(['javascript', 'css', 'plain text']).toContain(result[0]?.metadata?.language);
        });
    });
    describe('Code Block Structure', () => {
        it('should create valid Notion code block structure', () => {
            const code = 'const test = "hello";';
            const result = parser.parse(code);
            expect(result).toHaveLength(1);
            expect(result[0]).toMatchObject({
                type: 'code',
                content: code,
                metadata: {
                    language: expect.any(String),
                    isBlock: true
                }
            });
        });
        it('should preserve code formatting and whitespace', () => {
            const code = 'function test() {\n    if (true) {\n        return "indented";\n    }\n}';
            const result = parser.parse(code);
            expect(result[0]?.content).toBe(code);
        });
        it('should handle empty code blocks', () => {
            const code = '';
            const result = parser.parse(code);
            expect(result).toEqual([]);
        });
        it('should handle whitespace-only code', () => {
            const code = '   \n\t\n   ';
            const result = parser.parse(code);
            expect(result).toEqual([]);
        });
    });
    describe('Content Truncation', () => {
        it('should truncate extremely long code blocks', () => {
            const longCode = 'a'.repeat(5000); // Exceeds 2000 char limit
            const result = parser.parse(longCode);
            expect(result).toHaveLength(1);
            expect(result[0]?.content?.length).toBeLessThanOrEqual(2000);
        });
        it('should respect custom maxCodeLength option', () => {
            const customParser = new CodeParser_1.CodeParser({ maxCodeLength: 100 });
            const longCode = 'a'.repeat(200);
            const result = customParser.parse(longCode);
            expect(result[0]?.content?.length).toBeLessThanOrEqual(100);
        });
        it('should not truncate short code', () => {
            const shortCode = 'function test() { return true; }';
            const result = parser.parse(shortCode);
            expect(result[0]?.content).toBe(shortCode);
        });
    });
    describe('Language Validation', () => {
        it('should validate provided language from metadata', () => {
            const customParser = new CodeParser_1.CodeParser({
                metadata: { language: 'python' }
            });
            const code = 'some code here';
            const result = customParser.parse(code);
            expect(result[0]?.metadata?.language).toBe('python');
        });
        it('should fallback if provided language is invalid', () => {
            const customParser = new CodeParser_1.CodeParser({
                metadata: { language: 'invalid-language' }
            });
            const jsCode = 'function test() {}';
            const result = customParser.parse(jsCode);
            expect(result[0]?.metadata?.language).toBe('javascript'); // Auto-detected
        });
        it('should handle case-insensitive language names', () => {
            const customParser = new CodeParser_1.CodeParser({
                metadata: { language: 'JAVASCRIPT' }
            });
            const code = 'some code';
            const result = customParser.parse(code);
            expect(result[0]?.metadata?.language).toBe('javascript');
        });
    });
    describe('Special Characters and Encoding', () => {
        it('should handle code with special characters', () => {
            const codeWithSpecial = 'const emoji = "ðŸŽ¯";\nconst unicode = "SpÃ©ciÃ l chÃ racters";';
            const result = parser.parse(codeWithSpecial);
            expect(result[0]?.content).toContain('ðŸŽ¯');
            expect(result[0]?.content).toContain('SpÃ©ciÃ l');
        });
        it('should handle code with escape sequences', () => {
            const codeWithEscapes = 'const str = "Hello\\nWorld\\t!";\nconst regex = /\\d+/g;';
            const result = parser.parse(codeWithEscapes);
            expect(result[0]?.content).toBe(codeWithEscapes);
        });
        it('should handle code with various quotes', () => {
            const codeWithQuotes = `const single = 'single quotes';\nconst double = "double quotes";\nconst template = \`template \${literal}\`;`;
            const result = parser.parse(codeWithQuotes);
            expect(result[0]?.content).toBe(codeWithQuotes);
        });
    });
    describe('Performance', () => {
        it('should parse large code files efficiently', () => {
            const largeCode = Array(1000).fill('function test() { return true; }').join('\n');
            const startTime = Date.now();
            const result = parser.parse(largeCode);
            const duration = Date.now() - startTime;
            expect(result).toHaveLength(1);
            expect(duration).toBeLessThan(100); // Should be fast
        });
        it('should handle concurrent code parsing', () => {
            const codeSnippets = [
                'const a = 1;',
                'def func(): pass',
                'public class Test {}',
                '.class { color: red; }',
                'SELECT * FROM table;'
            ];
            const results = codeSnippets.map(code => parser.parse(code));
            results.forEach(result => {
                expect(result).toHaveLength(1);
                expect(result[0]?.type).toBe('code');
            });
        });
    });
    describe('Error Handling', () => {
        it('should handle malformed code gracefully', () => {
            const malformedCode = 'function unclosed() { if (true { return;';
            const result = parser.parse(malformedCode);
            expect(result).toHaveLength(1);
            expect(result[0]?.type).toBe('code');
            expect(result[0]?.content).toBe(malformedCode);
        });
        it('should handle null and undefined input', () => {
            expect(parser.parse(null)).toEqual([]);
            expect(parser.parse(undefined)).toEqual([]);
        });
        it('should handle very short code snippets', () => {
            const shortCode = 'x';
            const result = parser.parse(shortCode);
            expect(result).toHaveLength(1);
            expect(result[0]?.content).toBe(shortCode);
        });
    });
    describe('Integration with parseContent', () => {
        it('should work correctly with parseContent function', () => {
            const jsCode = 'function hello() {\n  console.log("Hello World");\n}';
            const result = (0, parseContent_1.parseContent)(jsCode, { contentType: 'code' });
            expect(result.success).toBe(true);
            expect(result.blocks).toHaveLength(1);
            expect(result.blocks[0].type).toBe('code');
        });
        it('should auto-detect code in parseContent', () => {
            const pythonCode = 'def hello():\n    print("Hello World")';
            const result = (0, parseContent_1.parseContent)(pythonCode);
            expect(result.success).toBe(true);
            expect(result.blocks).toHaveLength(1);
            expect(result.blocks[0].type).toBe('code');
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxyYXlhblxcRGVza3RvcFxcRGV2XFxOb3Rpb25DbGlwcGVyXFxwYWNrYWdlc1xcbm90aW9uLXBhcnNlclxcdGVzdHNcXHVuaXRcXHBhcnNlcnNcXENvZGVQYXJzZXIudGVzdC50cyIsIm1hcHBpbmdzIjoiO0FBQUE7OztHQUdHOztBQUVILGdFQUE2RDtBQUM3RCw0REFBeUQ7QUFLekQsUUFBUSxDQUFDLHNDQUFzQyxFQUFFLEdBQUcsRUFBRTtJQUNwRCxJQUFJLE1BQWtCLENBQUM7SUFFdkIsVUFBVSxDQUFDLEdBQUcsRUFBRTtRQUNkLE1BQU0sR0FBRyxJQUFJLHVCQUFVLEVBQUUsQ0FBQztJQUM1QixDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyw0Q0FBNEMsRUFBRSxHQUFHLEVBQUU7UUFDMUQsRUFBRSxDQUFDLHFEQUFxRCxFQUFFLEdBQUcsRUFBRTtZQUM3RCxNQUFNLE1BQU0sR0FBRyxzRUFBc0UsQ0FBQztZQUN0RixNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBRXBDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDL0IsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDckMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQzNELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLCtDQUErQyxFQUFFLEdBQUcsRUFBRTtZQUN2RCxNQUFNLE1BQU0sR0FBRyxvREFBb0QsQ0FBQztZQUNwRSxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBRXBDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsUUFB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RTtZQUNqRCxNQUFNLFVBQVUsR0FBRyx3Q0FBd0MsQ0FBQztZQUM1RCxNQUFNLE1BQU0sR0FBRyxJQUFBLDJCQUFZLEVBQUMsVUFBVSxDQUFDLENBQUM7WUFFeEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDbEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzdDLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJDOlxcVXNlcnNcXHJheWFuXFxEZXNrdG9wXFxEZXZcXE5vdGlvbkNsaXBwZXJcXHBhY2thZ2VzXFxub3Rpb24tcGFyc2VyXFx0ZXN0c1xcdW5pdFxccGFyc2Vyc1xcQ29kZVBhcnNlci50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBUZXN0cyB1bml0YWlyZXMgcG91ciBDb2RlUGFyc2VyIC0gQ2FoaWVyIGRlcyBDaGFyZ2VzIHYyLjFcclxuICogQ291dnJlIGxlIHBhcnNpbmcgZGUgY29kZSBhdmVjIGTDqXRlY3Rpb24gZGUgbGFuZ2FnZSBjb21wbMOodGVcclxuICovXHJcblxyXG5pbXBvcnQgeyBDb2RlUGFyc2VyIH0gZnJvbSAnLi4vLi4vLi4vc3JjL3BhcnNlcnMvQ29kZVBhcnNlcic7XHJcbmltcG9ydCB7IHBhcnNlQ29udGVudCB9IGZyb20gJy4uLy4uLy4uL3NyYy9wYXJzZUNvbnRlbnQnO1xyXG5cclxuLy8gVHlwZSBoZWxwZXIgcG91ciDDqXZpdGVyIGxlcyBlcnJldXJzIFR5cGVTY3JpcHRcclxudHlwZSBDb2RlUmVzdWx0ID0gUmV0dXJuVHlwZTxDb2RlUGFyc2VyWydwYXJzZSddPjtcclxuXHJcbmRlc2NyaWJlKCdDb2RlUGFyc2VyIC0gQ2FoaWVyIGRlcyBDaGFyZ2VzIHYyLjEnLCAoKSA9PiB7XHJcbiAgbGV0IHBhcnNlcjogQ29kZVBhcnNlcjtcclxuXHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBwYXJzZXIgPSBuZXcgQ29kZVBhcnNlcigpO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnTGFuZ3VhZ2UgRGV0ZWN0aW9uIC0gSmF2YVNjcmlwdC9UeXBlU2NyaXB0JywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBkZXRlY3QgSmF2YVNjcmlwdCB3aXRoIGZ1bmN0aW9uIGRlY2xhcmF0aW9ucycsICgpID0+IHtcclxuICAgICAgY29uc3QganNDb2RlID0gJ2Z1bmN0aW9uIGhlbGxvKCkge1xcbiAgY29uc29sZS5sb2coXCJIZWxsbyBXb3JsZFwiKTtcXG4gIHJldHVybiB0cnVlO1xcbn0nO1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBwYXJzZXIucGFyc2UoanNDb2RlKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZUxlbmd0aCgxKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdFswXT8udHlwZSkudG9CZSgnY29kZScpO1xyXG4gICAgICBleHBlY3QocmVzdWx0WzBdPy5tZXRhZGF0YT8ubGFuZ3VhZ2UpLnRvQmUoJ2phdmFzY3JpcHQnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZGV0ZWN0IEphdmFTY3JpcHQgd2l0aCBhcnJvdyBmdW5jdGlvbnMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGpzQ29kZSA9ICdjb25zdCBoZWxsbyA9ICgpID0+IHtcXG4gIGNvbnNvbGUubG9nKFwiSGVsbG9cIik7XFxufTsnO1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBwYXJzZXIucGFyc2UoanNDb2RlKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXN1bHRbMF0/Lm1ldGFkYXRhPy5sYW5ndWFnZSkudG9CZSgnamF2YXNjcmlwdCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBkZXRlY3QgSmF2YVNjcmlwdCB3aXRoIEVTNiBpbXBvcnRzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBqc0NvZGUgPSAnaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xcbmNvbnN0IGNvbXBvbmVudCA9ICgpID0+IDxkaXY+SGVsbG88L2Rpdj47JztcclxuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VyLnBhcnNlKGpzQ29kZSk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzdWx0WzBdPy5tZXRhZGF0YT8ubGFuZ3VhZ2UpLnRvQmUoJ2phdmFzY3JpcHQnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZGV0ZWN0IFR5cGVTY3JpcHQgd2l0aCB0eXBlIGFubm90YXRpb25zJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCB0c0NvZGUgPSAnaW50ZXJmYWNlIFVzZXIge1xcbiAgbmFtZTogc3RyaW5nO1xcbiAgYWdlOiBudW1iZXI7XFxufVxcbmZ1bmN0aW9uIGdyZWV0KHVzZXI6IFVzZXIpOiBzdHJpbmcge1xcbiAgcmV0dXJuIGBIZWxsbyAke3VzZXIubmFtZX1gO1xcbn0nO1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBwYXJzZXIucGFyc2UodHNDb2RlKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXN1bHRbMF0/Lm1ldGFkYXRhPy5sYW5ndWFnZSkudG9CZSgndHlwZXNjcmlwdCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBkZXRlY3QgVHlwZVNjcmlwdCB3aXRoIGdlbmVyaWMgdHlwZXMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHRzQ29kZSA9ICdmdW5jdGlvbiBpZGVudGl0eTxUPihhcmc6IFQpOiBUIHtcXG4gIHJldHVybiBhcmc7XFxufSc7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlci5wYXJzZSh0c0NvZGUpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdFswXT8ubWV0YWRhdGE/Lmxhbmd1YWdlKS50b0JlKCd0eXBlc2NyaXB0Jyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0xhbmd1YWdlIERldGVjdGlvbiAtIFB5dGhvbicsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgZGV0ZWN0IFB5dGhvbiB3aXRoIGZ1bmN0aW9uIGRlZmluaXRpb25zJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBweXRob25Db2RlID0gJ2RlZiBoZWxsbygpOlxcbiAgICBwcmludChcIkhlbGxvIFdvcmxkXCIpXFxuICAgIHJldHVybiBUcnVlJztcclxuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VyLnBhcnNlKHB5dGhvbkNvZGUpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdFswXT8ubWV0YWRhdGE/Lmxhbmd1YWdlKS50b0JlKCdweXRob24nKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZGV0ZWN0IFB5dGhvbiB3aXRoIGNsYXNzIGRlZmluaXRpb25zJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBweXRob25Db2RlID0gJ2NsYXNzIE15Q2xhc3M6XFxuICAgIGRlZiBfX2luaXRfXyhzZWxmKTpcXG4gICAgICAgIHNlbGYudmFsdWUgPSA0Mic7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlci5wYXJzZShweXRob25Db2RlKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXN1bHRbMF0/Lm1ldGFkYXRhPy5sYW5ndWFnZSkudG9CZSgncHl0aG9uJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGRldGVjdCBQeXRob24gd2l0aCBpbXBvcnRzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBweXRob25Db2RlID0gJ2ltcG9ydCBvc1xcbmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lXFxuXFxucHJpbnQoXCJIZWxsb1wiKSc7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlci5wYXJzZShweXRob25Db2RlKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXN1bHRbMF0/Lm1ldGFkYXRhPy5sYW5ndWFnZSkudG9CZSgncHl0aG9uJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGRldGVjdCBQeXRob24gd2l0aCBsaXN0IGNvbXByZWhlbnNpb25zJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBweXRob25Db2RlID0gJ251bWJlcnMgPSBbeCBmb3IgeCBpbiByYW5nZSgxMCkgaWYgeCAlIDIgPT0gMF0nO1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBwYXJzZXIucGFyc2UocHl0aG9uQ29kZSk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzdWx0WzBdPy5tZXRhZGF0YT8ubGFuZ3VhZ2UpLnRvQmUoJ3B5dGhvbicpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdMYW5ndWFnZSBEZXRlY3Rpb24gLSBKYXZhJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBkZXRlY3QgSmF2YSB3aXRoIGNsYXNzIGRlY2xhcmF0aW9ucycsICgpID0+IHtcclxuICAgICAgY29uc3QgamF2YUNvZGUgPSAncHVibGljIGNsYXNzIEhlbGxvV29ybGQge1xcbiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XFxuICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJIZWxsbyBXb3JsZFwiKTtcXG4gICAgfVxcbn0nO1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBwYXJzZXIucGFyc2UoamF2YUNvZGUpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdFswXT8ubWV0YWRhdGE/Lmxhbmd1YWdlKS50b0JlKCdqYXZhJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGRldGVjdCBKYXZhIHdpdGggaW1wb3J0cycsICgpID0+IHtcclxuICAgICAgY29uc3QgamF2YUNvZGUgPSAnaW1wb3J0IGphdmEudXRpbC5MaXN0O1xcbmltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0O1xcblxcbnB1YmxpYyBjbGFzcyBUZXN0IHt9JztcclxuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VyLnBhcnNlKGphdmFDb2RlKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXN1bHRbMF0/Lm1ldGFkYXRhPy5sYW5ndWFnZSkudG9CZSgnamF2YScpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdMYW5ndWFnZSBEZXRlY3Rpb24gLSBDL0MrKycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgZGV0ZWN0IEMgd2l0aCBpbmNsdWRlcyBhbmQgbWFpbiBmdW5jdGlvbicsICgpID0+IHtcclxuICAgICAgY29uc3QgY0NvZGUgPSAnI2luY2x1ZGUgPHN0ZGlvLmg+XFxuXFxuaW50IG1haW4oKSB7XFxuICAgIHByaW50ZihcIkhlbGxvIFdvcmxkXCIpO1xcbiAgICByZXR1cm4gMDtcXG59JztcclxuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VyLnBhcnNlKGNDb2RlKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXN1bHRbMF0/Lm1ldGFkYXRhPy5sYW5ndWFnZSkudG9CZSgnYycpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBkZXRlY3QgQysrIHdpdGggc3RkIG5hbWVzcGFjZScsICgpID0+IHtcclxuICAgICAgY29uc3QgY3BwQ29kZSA9ICcjaW5jbHVkZSA8aW9zdHJlYW0+XFxuXFxuaW50IG1haW4oKSB7XFxuICAgIHN0ZDo6Y291dCA8PCBcIkhlbGxvIFdvcmxkXCIgPDwgc3RkOjplbmRsO1xcbiAgICByZXR1cm4gMDtcXG59JztcclxuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VyLnBhcnNlKGNwcENvZGUpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdFswXT8ubWV0YWRhdGE/Lmxhbmd1YWdlKS50b0JlKCdjKysnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnTGFuZ3VhZ2UgRGV0ZWN0aW9uIC0gT3RoZXIgTGFuZ3VhZ2VzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBkZXRlY3QgQyMgd2l0aCB1c2luZyBzdGF0ZW1lbnRzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjc2hhcnBDb2RlID0gJ3VzaW5nIFN5c3RlbTtcXG5cXG5uYW1lc3BhY2UgSGVsbG9Xb3JsZCB7XFxuICAgIHB1YmxpYyBjbGFzcyBQcm9ncmFtIHtcXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBNYWluKCkge1xcbiAgICAgICAgICAgIENvbnNvbGUuV3JpdGVMaW5lKFwiSGVsbG8gV29ybGRcIik7XFxuICAgICAgICB9XFxuICAgIH1cXG59JztcclxuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VyLnBhcnNlKGNzaGFycENvZGUpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdFswXT8ubWV0YWRhdGE/Lmxhbmd1YWdlKS50b0JlKCdjIycpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBkZXRlY3QgUEhQIHdpdGggUEhQIHRhZ3MnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHBocENvZGUgPSAnPD9waHBcXG4kbmFtZSA9IFwiV29ybGRcIjtcXG5lY2hvIFwiSGVsbG8gXCIgLiAkbmFtZTtcXG4/Pic7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlci5wYXJzZShwaHBDb2RlKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXN1bHRbMF0/Lm1ldGFkYXRhPy5sYW5ndWFnZSkudG9CZSgncGhwJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGRldGVjdCBSdWJ5IHdpdGggZGVmIGFuZCBlbmQnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJ1YnlDb2RlID0gJ2RlZiBoZWxsb1xcbiAgcHV0cyBcIkhlbGxvIFdvcmxkXCJcXG5lbmRcXG5cXG5oZWxsbyc7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlci5wYXJzZShydWJ5Q29kZSk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzdWx0WzBdPy5tZXRhZGF0YT8ubGFuZ3VhZ2UpLnRvQmUoJ3J1YnknKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZGV0ZWN0IEdvIHdpdGggcGFja2FnZSBhbmQgZnVuYycsICgpID0+IHtcclxuICAgICAgY29uc3QgZ29Db2RlID0gJ3BhY2thZ2UgbWFpblxcblxcbmltcG9ydCBcImZtdFwiXFxuXFxuZnVuYyBtYWluKCkge1xcbiAgICBmbXQuUHJpbnRsbihcIkhlbGxvIFdvcmxkXCIpXFxufSc7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlci5wYXJzZShnb0NvZGUpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdFswXT8ubWV0YWRhdGE/Lmxhbmd1YWdlKS50b0JlKCdnbycpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBkZXRlY3QgUnVzdCB3aXRoIGZuIGFuZCBwcmludGxuIScsICgpID0+IHtcclxuICAgICAgY29uc3QgcnVzdENvZGUgPSAnZm4gbWFpbigpIHtcXG4gICAgcHJpbnRsbiEoXCJIZWxsbyBXb3JsZFwiKTtcXG59JztcclxuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VyLnBhcnNlKHJ1c3RDb2RlKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXN1bHRbMF0/Lm1ldGFkYXRhPy5sYW5ndWFnZSkudG9CZSgncnVzdCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBkZXRlY3QgU1FMIHdpdGggU0VMRUNUIHN0YXRlbWVudHMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHNxbENvZGUgPSAnU0VMRUNUIG5hbWUsIGFnZSBGUk9NIHVzZXJzIFdIRVJFIGFnZSA+IDE4IE9SREVSIEJZIG5hbWU7JztcclxuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VyLnBhcnNlKHNxbENvZGUpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdFswXT8ubWV0YWRhdGE/Lmxhbmd1YWdlKS50b0JlKCdzcWwnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZGV0ZWN0IENTUyB3aXRoIHNlbGVjdG9ycyBhbmQgcHJvcGVydGllcycsICgpID0+IHtcclxuICAgICAgY29uc3QgY3NzQ29kZSA9ICcuY29udGFpbmVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmMGYwZjA7XFxufSc7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlci5wYXJzZShjc3NDb2RlKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXN1bHRbMF0/Lm1ldGFkYXRhPy5sYW5ndWFnZSkudG9CZSgnY3NzJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGRldGVjdCBIVE1MIHdpdGggdGFncycsICgpID0+IHtcclxuICAgICAgY29uc3QgaHRtbENvZGUgPSAnPCFET0NUWVBFIGh0bWw+XFxuPGh0bWw+XFxuPGhlYWQ+XFxuICAgIDx0aXRsZT5UZXN0PC90aXRsZT5cXG48L2hlYWQ+XFxuPGJvZHk+XFxuICAgIDxoMT5IZWxsbyBXb3JsZDwvaDE+XFxuPC9ib2R5PlxcbjwvaHRtbD4nO1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBwYXJzZXIucGFyc2UoaHRtbENvZGUpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdFswXT8ubWV0YWRhdGE/Lmxhbmd1YWdlKS50b0JlKCdodG1sJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0xhbmd1YWdlIERldGVjdGlvbiAtIEZhbGxiYWNrJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBmYWxsYmFjayB0byBwbGFpbiB0ZXh0IGZvciB1bmtub3duIGxhbmd1YWdlcycsICgpID0+IHtcclxuICAgICAgY29uc3QgdW5rbm93bkNvZGUgPSAnc29tZSB1bmtub3duIHN5bnRheCBoZXJlIHRoYXQgZG9lcyBub3QgbWF0Y2ggYW55IHBhdHRlcm4nO1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBwYXJzZXIucGFyc2UodW5rbm93bkNvZGUpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdFswXT8ubWV0YWRhdGE/Lmxhbmd1YWdlKS50b0JlKCdwbGFpbiB0ZXh0Jyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtaXhlZCBsYW5ndWFnZSBjb250ZW50JywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBtaXhlZENvZGUgPSAnLy8gSmF2YVNjcmlwdCBjb21tZW50XFxuZnVuY3Rpb24gdGVzdCgpIHt9XFxuLyogQ1NTIGNvbW1lbnQgKi9cXG4uY2xhc3MgeyBjb2xvcjogcmVkOyB9JztcclxuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VyLnBhcnNlKG1peGVkQ29kZSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBTaG91bGQgZGV0ZWN0IHRoZSBtb3N0IHByb21pbmVudCBsYW5ndWFnZSAoSmF2YVNjcmlwdCBpbiB0aGlzIGNhc2UpXHJcbiAgICAgIGV4cGVjdChbJ2phdmFzY3JpcHQnLCAnY3NzJywgJ3BsYWluIHRleHQnXSkudG9Db250YWluKHJlc3VsdFswXT8ubWV0YWRhdGE/Lmxhbmd1YWdlKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnQ29kZSBCbG9jayBTdHJ1Y3R1cmUnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSB2YWxpZCBOb3Rpb24gY29kZSBibG9jayBzdHJ1Y3R1cmUnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvZGUgPSAnY29uc3QgdGVzdCA9IFwiaGVsbG9cIjsnO1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBwYXJzZXIucGFyc2UoY29kZSk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVMZW5ndGgoMSk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHRbMF0pLnRvTWF0Y2hPYmplY3Qoe1xyXG4gICAgICAgIHR5cGU6ICdjb2RlJyxcclxuICAgICAgICBjb250ZW50OiBjb2RlLFxyXG4gICAgICAgIG1ldGFkYXRhOiB7XHJcbiAgICAgICAgICBsYW5ndWFnZTogZXhwZWN0LmFueShTdHJpbmcpLFxyXG4gICAgICAgICAgaXNCbG9jazogdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHByZXNlcnZlIGNvZGUgZm9ybWF0dGluZyBhbmQgd2hpdGVzcGFjZScsICgpID0+IHtcclxuICAgICAgY29uc3QgY29kZSA9ICdmdW5jdGlvbiB0ZXN0KCkge1xcbiAgICBpZiAodHJ1ZSkge1xcbiAgICAgICAgcmV0dXJuIFwiaW5kZW50ZWRcIjtcXG4gICAgfVxcbn0nO1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBwYXJzZXIucGFyc2UoY29kZSk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzdWx0WzBdPy5jb250ZW50KS50b0JlKGNvZGUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgY29kZSBibG9ja3MnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvZGUgPSAnJztcclxuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VyLnBhcnNlKGNvZGUpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChbXSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB3aGl0ZXNwYWNlLW9ubHkgY29kZScsICgpID0+IHtcclxuICAgICAgY29uc3QgY29kZSA9ICcgICBcXG5cXHRcXG4gICAnO1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBwYXJzZXIucGFyc2UoY29kZSk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKFtdKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnQ29udGVudCBUcnVuY2F0aW9uJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCB0cnVuY2F0ZSBleHRyZW1lbHkgbG9uZyBjb2RlIGJsb2NrcycsICgpID0+IHtcclxuICAgICAgY29uc3QgbG9uZ0NvZGUgPSAnYScucmVwZWF0KDUwMDApOyAvLyBFeGNlZWRzIDIwMDAgY2hhciBsaW1pdFxyXG4gICAgICBjb25zdCByZXN1bHQgPSBwYXJzZXIucGFyc2UobG9uZ0NvZGUpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlTGVuZ3RoKDEpO1xyXG4gICAgICBleHBlY3QocmVzdWx0WzBdPy5jb250ZW50Py5sZW5ndGgpLnRvQmVMZXNzVGhhbk9yRXF1YWwoMjAwMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJlc3BlY3QgY3VzdG9tIG1heENvZGVMZW5ndGggb3B0aW9uJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjdXN0b21QYXJzZXIgPSBuZXcgQ29kZVBhcnNlcih7IG1heENvZGVMZW5ndGg6IDEwMCB9KTtcclxuICAgICAgY29uc3QgbG9uZ0NvZGUgPSAnYScucmVwZWF0KDIwMCk7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGN1c3RvbVBhcnNlci5wYXJzZShsb25nQ29kZSk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzdWx0WzBdPy5jb250ZW50Py5sZW5ndGgpLnRvQmVMZXNzVGhhbk9yRXF1YWwoMTAwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgbm90IHRydW5jYXRlIHNob3J0IGNvZGUnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHNob3J0Q29kZSA9ICdmdW5jdGlvbiB0ZXN0KCkgeyByZXR1cm4gdHJ1ZTsgfSc7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlci5wYXJzZShzaG9ydENvZGUpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdFswXT8uY29udGVudCkudG9CZShzaG9ydENvZGUpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdMYW5ndWFnZSBWYWxpZGF0aW9uJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBwcm92aWRlZCBsYW5ndWFnZSBmcm9tIG1ldGFkYXRhJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjdXN0b21QYXJzZXIgPSBuZXcgQ29kZVBhcnNlcih7IFxyXG4gICAgICAgIG1ldGFkYXRhOiB7IGxhbmd1YWdlOiAncHl0aG9uJyB9IFxyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgY29kZSA9ICdzb21lIGNvZGUgaGVyZSc7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGN1c3RvbVBhcnNlci5wYXJzZShjb2RlKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXN1bHRbMF0/Lm1ldGFkYXRhPy5sYW5ndWFnZSkudG9CZSgncHl0aG9uJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGZhbGxiYWNrIGlmIHByb3ZpZGVkIGxhbmd1YWdlIGlzIGludmFsaWQnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGN1c3RvbVBhcnNlciA9IG5ldyBDb2RlUGFyc2VyKHsgXHJcbiAgICAgICAgbWV0YWRhdGE6IHsgbGFuZ3VhZ2U6ICdpbnZhbGlkLWxhbmd1YWdlJyB9IFxyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QganNDb2RlID0gJ2Z1bmN0aW9uIHRlc3QoKSB7fSc7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGN1c3RvbVBhcnNlci5wYXJzZShqc0NvZGUpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdFswXT8ubWV0YWRhdGE/Lmxhbmd1YWdlKS50b0JlKCdqYXZhc2NyaXB0Jyk7IC8vIEF1dG8tZGV0ZWN0ZWRcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNhc2UtaW5zZW5zaXRpdmUgbGFuZ3VhZ2UgbmFtZXMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGN1c3RvbVBhcnNlciA9IG5ldyBDb2RlUGFyc2VyKHsgXHJcbiAgICAgICAgbWV0YWRhdGE6IHsgbGFuZ3VhZ2U6ICdKQVZBU0NSSVBUJyB9IFxyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgY29kZSA9ICdzb21lIGNvZGUnO1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBjdXN0b21QYXJzZXIucGFyc2UoY29kZSk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzdWx0WzBdPy5tZXRhZGF0YT8ubGFuZ3VhZ2UpLnRvQmUoJ2phdmFzY3JpcHQnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnU3BlY2lhbCBDaGFyYWN0ZXJzIGFuZCBFbmNvZGluZycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvZGUgd2l0aCBzcGVjaWFsIGNoYXJhY3RlcnMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvZGVXaXRoU3BlY2lhbCA9ICdjb25zdCBlbW9qaSA9IFwi8J+Or1wiO1xcbmNvbnN0IHVuaWNvZGUgPSBcIlNww6ljacOgbCBjaMOgcmFjdGVyc1wiOyc7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlci5wYXJzZShjb2RlV2l0aFNwZWNpYWwpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdFswXT8uY29udGVudCkudG9Db250YWluKCfwn46vJyk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHRbMF0/LmNvbnRlbnQpLnRvQ29udGFpbignU3DDqWNpw6BsJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjb2RlIHdpdGggZXNjYXBlIHNlcXVlbmNlcycsICgpID0+IHtcclxuICAgICAgY29uc3QgY29kZVdpdGhFc2NhcGVzID0gJ2NvbnN0IHN0ciA9IFwiSGVsbG9cXFxcbldvcmxkXFxcXHQhXCI7XFxuY29uc3QgcmVnZXggPSAvXFxcXGQrL2c7JztcclxuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VyLnBhcnNlKGNvZGVXaXRoRXNjYXBlcyk7XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVzdWx0WzBdPy5jb250ZW50KS50b0JlKGNvZGVXaXRoRXNjYXBlcyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjb2RlIHdpdGggdmFyaW91cyBxdW90ZXMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvZGVXaXRoUXVvdGVzID0gYGNvbnN0IHNpbmdsZSA9ICdzaW5nbGUgcXVvdGVzJztcXG5jb25zdCBkb3VibGUgPSBcImRvdWJsZSBxdW90ZXNcIjtcXG5jb25zdCB0ZW1wbGF0ZSA9IFxcYHRlbXBsYXRlIFxcJHtsaXRlcmFsfVxcYDtgO1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBwYXJzZXIucGFyc2UoY29kZVdpdGhRdW90ZXMpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdFswXT8uY29udGVudCkudG9CZShjb2RlV2l0aFF1b3Rlcyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ1BlcmZvcm1hbmNlJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBwYXJzZSBsYXJnZSBjb2RlIGZpbGVzIGVmZmljaWVudGx5JywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBsYXJnZUNvZGUgPSBBcnJheSgxMDAwKS5maWxsKCdmdW5jdGlvbiB0ZXN0KCkgeyByZXR1cm4gdHJ1ZTsgfScpLmpvaW4oJ1xcbicpO1xyXG4gICAgICBcclxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VyLnBhcnNlKGxhcmdlQ29kZSk7XHJcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZUxlbmd0aCgxKTtcclxuICAgICAgZXhwZWN0KGR1cmF0aW9uKS50b0JlTGVzc1RoYW4oMTAwKTsgLy8gU2hvdWxkIGJlIGZhc3RcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbmN1cnJlbnQgY29kZSBwYXJzaW5nJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjb2RlU25pcHBldHMgPSBbXHJcbiAgICAgICAgJ2NvbnN0IGEgPSAxOycsXHJcbiAgICAgICAgJ2RlZiBmdW5jKCk6IHBhc3MnLFxyXG4gICAgICAgICdwdWJsaWMgY2xhc3MgVGVzdCB7fScsXHJcbiAgICAgICAgJy5jbGFzcyB7IGNvbG9yOiByZWQ7IH0nLFxyXG4gICAgICAgICdTRUxFQ1QgKiBGUk9NIHRhYmxlOydcclxuICAgICAgXTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBjb2RlU25pcHBldHMubWFwKGNvZGUgPT4gcGFyc2VyLnBhcnNlKGNvZGUpKTtcclxuICAgICAgXHJcbiAgICAgIHJlc3VsdHMuZm9yRWFjaChyZXN1bHQgPT4ge1xyXG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZUxlbmd0aCgxKTtcclxuICAgICAgICBleHBlY3QocmVzdWx0WzBdPy50eXBlKS50b0JlKCdjb2RlJyk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdFcnJvciBIYW5kbGluZycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG1hbGZvcm1lZCBjb2RlIGdyYWNlZnVsbHknLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1hbGZvcm1lZENvZGUgPSAnZnVuY3Rpb24gdW5jbG9zZWQoKSB7IGlmICh0cnVlIHsgcmV0dXJuOyc7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlci5wYXJzZShtYWxmb3JtZWRDb2RlKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZUxlbmd0aCgxKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdFswXT8udHlwZSkudG9CZSgnY29kZScpO1xyXG4gICAgICBleHBlY3QocmVzdWx0WzBdPy5jb250ZW50KS50b0JlKG1hbGZvcm1lZENvZGUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbnVsbCBhbmQgdW5kZWZpbmVkIGlucHV0JywgKCkgPT4ge1xyXG4gICAgICBleHBlY3QocGFyc2VyLnBhcnNlKG51bGwgYXMgYW55KSkudG9FcXVhbChbXSk7XHJcbiAgICAgIGV4cGVjdChwYXJzZXIucGFyc2UodW5kZWZpbmVkIGFzIGFueSkpLnRvRXF1YWwoW10pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdmVyeSBzaG9ydCBjb2RlIHNuaXBwZXRzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzaG9ydENvZGUgPSAneCc7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlci5wYXJzZShzaG9ydENvZGUpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlTGVuZ3RoKDEpO1xyXG4gICAgICBleHBlY3QocmVzdWx0WzBdPy5jb250ZW50KS50b0JlKHNob3J0Q29kZSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0ludGVncmF0aW9uIHdpdGggcGFyc2VDb250ZW50JywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCB3b3JrIGNvcnJlY3RseSB3aXRoIHBhcnNlQ29udGVudCBmdW5jdGlvbicsICgpID0+IHtcclxuICAgICAgY29uc3QganNDb2RlID0gJ2Z1bmN0aW9uIGhlbGxvKCkge1xcbiAgY29uc29sZS5sb2coXCJIZWxsbyBXb3JsZFwiKTtcXG59JztcclxuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VDb250ZW50KGpzQ29kZSwgeyBjb250ZW50VHlwZTogJ2NvZGUnIH0pO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LmJsb2NrcykudG9IYXZlTGVuZ3RoKDEpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LmJsb2Nrc1swXS50eXBlKS50b0JlKCdjb2RlJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGF1dG8tZGV0ZWN0IGNvZGUgaW4gcGFyc2VDb250ZW50JywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBweXRob25Db2RlID0gJ2RlZiBoZWxsbygpOlxcbiAgICBwcmludChcIkhlbGxvIFdvcmxkXCIpJztcclxuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VDb250ZW50KHB5dGhvbkNvZGUpO1xyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LmJsb2NrcykudG9IYXZlTGVuZ3RoKDEpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LmJsb2Nrc1swXS50eXBlKS50b0JlKCdjb2RlJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJ2ZXJzaW9uIjozfQ==