{"version":3,"names":["cov_janw8sb04","actualCoverage","s","BaseParser_1","require","TableParser","BaseParser","constructor","options","b","f","parse","content","trim","contentType","parseCsv","parseTsv","parseMarkdownTable","parseDelimitedTable","delimiter","lines","split","filter","line","length","createTextNode","rows","map","parseDelimitedLine","hasColumnHeader","detectColumnHeaders","hasRowHeader","detectRowHeaders","headers","dataRows","slice","maxColumns","Math","max","row","normalizedHeaders","normalizeRow","normalizedRows","createTableNode","result","current","inQuotes","i","char","nextChar","push","tableLines","includes","headerLine","parseMarkdownTableRow","dataStartIndex","isMarkdownSeparatorLine","trimmed","withoutOuterPipes","startsWith","withoutTrailingPipe","endsWith","cell","index","array","test","targetLength","normalized","firstRow","secondRow","firstRowHasText","some","isNaN","Number","secondRowHasNumbers","avgFirstRowLength","reduce","sum","avgSecondRowLength","headerKeywords","hasHeaderKeywords","keyword","toLowerCase","firstColumn","otherColumns","flat","firstColumnTextRatio","otherColumnsNumericRatio","type","metadata","columnCount","rowCount","children","detectTableFormat","pipeLines","tabLines","commaLines","exports"],"sources":["C:\\Users\\rayan\\Desktop\\Dev\\NotionClipper\\packages\\notion-parser\\src\\parsers\\TableParser.ts"],"sourcesContent":["import { BaseParser } from './BaseParser';\r\nimport type { ASTNode, ParseOptions } from '../types';\r\n\r\nexport class TableParser extends BaseParser {\r\n  constructor(options: ParseOptions = {}) {\r\n    super(options);\r\n  }\r\n\r\n  parse(content: string): ASTNode[] {\r\n    if (!content?.trim()) return [];\r\n\r\n    const contentType = this.options.contentType;\r\n    \r\n    switch (contentType) {\r\n      case 'csv':\r\n        return this.parseCsv(content);\r\n      case 'tsv':\r\n        return this.parseTsv(content);\r\n      case 'table':\r\n      default:\r\n        return this.parseMarkdownTable(content);\r\n    }\r\n  }\r\n\r\n  private parseCsv(content: string): ASTNode[] {\r\n    return this.parseDelimitedTable(content, ',');\r\n  }\r\n\r\n  private parseTsv(content: string): ASTNode[] {\r\n    return this.parseDelimitedTable(content, '\\t');\r\n  }\r\n\r\n  private parseDelimitedTable(content: string, delimiter: string): ASTNode[] {\r\n    const lines = content.split('\\n').filter(line => line.trim());\r\n    \r\n    if (lines.length < 2) {\r\n      // Not enough data for a table, return as text\r\n      return [this.createTextNode(content)];\r\n    }\r\n\r\n    // Parse CSV/TSV with proper quote handling\r\n    const rows = lines.map(line => this.parseDelimitedLine(line, delimiter));\r\n    \r\n    // Detect headers\r\n    const hasColumnHeader = this.detectColumnHeaders(rows);\r\n    const hasRowHeader = this.detectRowHeaders(rows);\r\n    \r\n    // Use first row as headers if detected\r\n    const headers = hasColumnHeader ? rows[0] : [];\r\n    const dataRows = hasColumnHeader ? rows.slice(1) : rows;\r\n\r\n    // Normalize row lengths\r\n    const maxColumns = Math.max(\r\n      headers.length, \r\n      ...dataRows.map(row => row.length)\r\n    );\r\n    \r\n    const normalizedHeaders = hasColumnHeader ? this.normalizeRow(headers, maxColumns) : [];\r\n    const normalizedRows = dataRows.map(row => this.normalizeRow(row, maxColumns));\r\n\r\n    return [this.createTableNode(normalizedHeaders, normalizedRows, {\r\n      hasColumnHeader,\r\n      hasRowHeader\r\n    })];\r\n  }\r\n\r\n  private parseDelimitedLine(line: string, delimiter: string): string[] {\r\n    const result: string[] = [];\r\n    let current = '';\r\n    let inQuotes = false;\r\n    let i = 0;\r\n\r\n    while (i < line.length) {\r\n      const char = line[i];\r\n      const nextChar = line[i + 1];\r\n\r\n      if (char === '\"') {\r\n        if (inQuotes && nextChar === '\"') {\r\n          // Escaped quote\r\n          current += '\"';\r\n          i += 2;\r\n        } else {\r\n          // Toggle quote state\r\n          inQuotes = !inQuotes;\r\n          i++;\r\n        }\r\n      } else if (char === delimiter && !inQuotes) {\r\n        // Field separator\r\n        result.push(current.trim());\r\n        current = '';\r\n        i++;\r\n      } else {\r\n        current += char;\r\n        i++;\r\n      }\r\n    }\r\n\r\n    // Add the last field\r\n    result.push(current.trim());\r\n\r\n    return result;\r\n  }\r\n\r\n  private parseMarkdownTable(content: string): ASTNode[] {\r\n    const lines = content.split('\\n').filter(line => line.trim());\r\n    \r\n    // Find table lines (containing |)\r\n    const tableLines = lines.filter(line => line.includes('|'));\r\n    \r\n    if (tableLines.length < 2) {\r\n      return [this.createTextNode(content)];\r\n    }\r\n\r\n    // Parse headers\r\n    const headerLine = tableLines[0];\r\n    const headers = this.parseMarkdownTableRow(headerLine);\r\n\r\n    // Check for separator line (indicates headers)\r\n    let dataStartIndex = 1;\r\n    let hasColumnHeader = false;\r\n    \r\n    if (tableLines.length > 1 && this.isMarkdownSeparatorLine(tableLines[1])) {\r\n      dataStartIndex = 2;\r\n      hasColumnHeader = true;\r\n    }\r\n\r\n    // Parse data rows\r\n    const dataRows = tableLines.slice(dataStartIndex)\r\n      .map(line => this.parseMarkdownTableRow(line))\r\n      .map(row => this.normalizeRow(row, headers.length));\r\n\r\n    // Detect row headers\r\n    const hasRowHeader = this.detectRowHeaders([headers, ...dataRows]);\r\n\r\n    return [this.createTableNode(headers, dataRows, {\r\n      hasColumnHeader,\r\n      hasRowHeader\r\n    })];\r\n  }\r\n\r\n  private parseMarkdownTableRow(line: string): string[] {\r\n    // Remove leading/trailing pipes and split\r\n    const trimmed = line.trim();\r\n    const withoutOuterPipes = trimmed.startsWith('|') ? trimmed.slice(1) : trimmed;\r\n    const withoutTrailingPipe = withoutOuterPipes.endsWith('|') \r\n      ? withoutOuterPipes.slice(0, -1) \r\n      : withoutOuterPipes;\r\n\r\n    return withoutTrailingPipe\r\n      .split('|')\r\n      .map(cell => cell.trim())\r\n      .filter((cell, index, array) => {\r\n        // Remove empty cells at the beginning and end\r\n        return !(cell === '' && (index === 0 || index === array.length - 1));\r\n      });\r\n  }\r\n\r\n  private isMarkdownSeparatorLine(line: string): boolean {\r\n    const trimmed = line.trim();\r\n    // Check if line contains only |, -, :, and spaces\r\n    return /^[\\|\\-:\\s]+$/.test(trimmed) && trimmed.includes('-');\r\n  }\r\n\r\n  private normalizeRow(row: string[], targetLength: number): string[] {\r\n    const normalized = [...row];\r\n    \r\n    // Pad with empty strings if too short\r\n    while (normalized.length < targetLength) {\r\n      normalized.push('');\r\n    }\r\n    \r\n    // Truncate if too long\r\n    if (normalized.length > targetLength) {\r\n      normalized.length = targetLength;\r\n    }\r\n    \r\n    return normalized;\r\n  }\r\n\r\n  /**\r\n   * Détecte si la première ligne contient des headers de colonnes\r\n   */\r\n  private detectColumnHeaders(rows: string[][]): boolean {\r\n    if (rows.length < 2) return false;\r\n    \r\n    const firstRow = rows[0];\r\n    const secondRow = rows[1];\r\n    \r\n    // Heuristiques pour détecter les headers :\r\n    // 1. Première ligne contient du texte, deuxième ligne contient des nombres\r\n    const firstRowHasText = firstRow.some(cell => \r\n      cell && isNaN(Number(cell)) && cell.trim() !== ''\r\n    );\r\n    \r\n    const secondRowHasNumbers = secondRow.some(cell => \r\n      cell && !isNaN(Number(cell))\r\n    );\r\n    \r\n    // 2. Première ligne a des cellules plus longues (noms descriptifs)\r\n    const avgFirstRowLength = firstRow.reduce((sum, cell) => sum + cell.length, 0) / firstRow.length;\r\n    const avgSecondRowLength = secondRow.reduce((sum, cell) => sum + cell.length, 0) / secondRow.length;\r\n    \r\n    // 3. Première ligne contient des mots typiques de headers\r\n    const headerKeywords = ['name', 'id', 'date', 'title', 'type', 'status', 'value', 'count'];\r\n    const hasHeaderKeywords = firstRow.some(cell => \r\n      headerKeywords.some(keyword => \r\n        cell.toLowerCase().includes(keyword)\r\n      )\r\n    );\r\n    \r\n    return (firstRowHasText && secondRowHasNumbers) || \r\n           (avgFirstRowLength > avgSecondRowLength * 1.2) ||\r\n           hasHeaderKeywords;\r\n  }\r\n\r\n  /**\r\n   * Détecte si la première colonne contient des headers de lignes\r\n   */\r\n  private detectRowHeaders(rows: string[][]): boolean {\r\n    if (rows.length < 2 || rows[0].length < 2) return false;\r\n    \r\n    // Vérifier si la première colonne contient du texte descriptif\r\n    // tandis que les autres colonnes contiennent principalement des données\r\n    const firstColumn = rows.map(row => row[0]).filter(cell => cell && cell.trim());\r\n    const otherColumns = rows.map(row => row.slice(1)).flat().filter(cell => cell && cell.trim());\r\n    \r\n    if (firstColumn.length === 0 || otherColumns.length === 0) return false;\r\n    \r\n    // Première colonne majoritairement textuelle\r\n    const firstColumnTextRatio = firstColumn.filter(cell => isNaN(Number(cell))).length / firstColumn.length;\r\n    \r\n    // Autres colonnes majoritairement numériques\r\n    const otherColumnsNumericRatio = otherColumns.filter(cell => !isNaN(Number(cell))).length / otherColumns.length;\r\n    \r\n    return firstColumnTextRatio > 0.7 && otherColumnsNumericRatio > 0.5;\r\n  }\r\n\r\n  /**\r\n   * Crée un nœud table avec les métadonnées de headers\r\n   */\r\n  protected createTableNode(headers: string[], rows: string[][], options: {\r\n    hasColumnHeader: boolean;\r\n    hasRowHeader: boolean;\r\n  } = { hasColumnHeader: false, hasRowHeader: false }): ASTNode {\r\n    return {\r\n      type: 'table',\r\n      content: '',\r\n      metadata: {\r\n        headers,\r\n        rows,\r\n        columnCount: Math.max(headers.length, ...rows.map(row => row.length)),\r\n        rowCount: rows.length + (options.hasColumnHeader ? 1 : 0),\r\n        hasColumnHeader: options.hasColumnHeader,\r\n        hasRowHeader: options.hasRowHeader\r\n      },\r\n      children: []\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Detect table format from content\r\n   */\r\n  static detectTableFormat(content: string): 'csv' | 'tsv' | 'markdown' | 'none' {\r\n    const lines = content.split('\\n').filter(line => line.trim());\r\n    \r\n    if (lines.length < 2) return 'none';\r\n\r\n    // Check for markdown table\r\n    const pipeLines = lines.filter(line => line.includes('|')).length;\r\n    if (pipeLines >= 2 && pipeLines / lines.length > 0.5) {\r\n      return 'markdown';\r\n    }\r\n\r\n    // Check for TSV (tab-separated)\r\n    const tabLines = lines.filter(line => line.includes('\\t')).length;\r\n    if (tabLines / lines.length > 0.7) {\r\n      return 'tsv';\r\n    }\r\n\r\n    // Check for CSV (comma-separated)\r\n    const commaLines = lines.filter(line => line.includes(',')).length;\r\n    if (commaLines / lines.length > 0.7) {\r\n      return 'csv';\r\n    }\r\n\r\n    return 'none';\r\n  }\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}