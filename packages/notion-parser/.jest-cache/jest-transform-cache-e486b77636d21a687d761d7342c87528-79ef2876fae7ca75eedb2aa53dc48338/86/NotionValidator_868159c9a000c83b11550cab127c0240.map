{"file":"C:\\Users\\rayan\\Desktop\\Dev\\NotionClipper\\packages\\notion-parser\\src\\validators\\NotionValidator.ts","mappings":"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","names":[],"sources":["C:\\Users\\rayan\\Desktop\\Dev\\NotionClipper\\packages\\notion-parser\\src\\validators\\NotionValidator.ts"],"sourcesContent":["import type { NotionBlock, NotionRichText, ValidationOptions } from '../types';\r\n\r\nexport interface ValidationResult {\r\n  isValid: boolean;\r\n  errors: ValidationError[];\r\n  warnings: ValidationWarning[];\r\n}\r\n\r\nexport interface ValidationError {\r\n  type: 'error';\r\n  code: string;\r\n  message: string;\r\n  blockIndex?: number;\r\n  field?: string;\r\n}\r\n\r\nexport interface ValidationWarning {\r\n  type: 'warning';\r\n  code: string;\r\n  message: string;\r\n  blockIndex?: number;\r\n  field?: string;\r\n}\r\n\r\nexport class NotionValidator {\r\n  private readonly limits = {\r\n    maxRichTextLength: 2000,\r\n    maxBlocksPerRequest: 100,\r\n    maxCodeLength: 2000,\r\n    maxEquationLength: 1000,\r\n    maxUrlLength: 2000,\r\n    maxCaptionLength: 500,\r\n    maxTableWidth: 5,\r\n    maxBlockDepth: 3,\r\n    maxChildrenCount: 100\r\n  };\r\n\r\n  validate(blocks: NotionBlock[], options: ValidationOptions = {}): ValidationResult {\r\n    const errors: ValidationError[] = [];\r\n    const warnings: ValidationWarning[] = [];\r\n\r\n    // Merge options with defaults\r\n    const validationOptions = {\r\n      strictMode: false,\r\n      validateRichText: true,\r\n      validateBlockStructure: true,\r\n      maxBlockDepth: this.limits.maxBlockDepth,\r\n      validateUrls: false,\r\n      validateNestedBlocks: true,\r\n      maxChildrenCount: this.limits.maxChildrenCount,\r\n      enableDetailedErrors: false,\r\n      ...options\r\n    };\r\n\r\n    // Validate block count\r\n    if (blocks.length > this.limits.maxBlocksPerRequest) {\r\n      if (validationOptions.strictMode) {\r\n        errors.push({\r\n          type: 'error',\r\n          code: 'TOO_MANY_BLOCKS',\r\n          message: `Too many blocks: ${blocks.length}. Maximum allowed: ${this.limits.maxBlocksPerRequest}`\r\n        });\r\n      } else {\r\n        warnings.push({\r\n          type: 'warning',\r\n          code: 'TOO_MANY_BLOCKS',\r\n          message: `Block count (${blocks.length}) exceeds recommended limit (${this.limits.maxBlocksPerRequest})`\r\n        });\r\n      }\r\n    }\r\n\r\n    // Validate block structure and nesting\r\n    if (validationOptions.validateNestedBlocks) {\r\n      const nestingIssues = this.validateBlockNesting(blocks, validationOptions);\r\n      errors.push(...nestingIssues.filter(issue => issue.type === 'error'));\r\n      warnings.push(...nestingIssues.filter(issue => issue.type === 'warning'));\r\n    }\r\n\r\n    // Validate each block\r\n    blocks.forEach((block, index) => {\r\n      const blockErrors = this.validateBlock(block, validationOptions, 0);\r\n      blockErrors.forEach(error => {\r\n        if (error.type === 'error') {\r\n          errors.push({ ...error, blockIndex: index });\r\n        } else {\r\n          warnings.push({ ...error, blockIndex: index });\r\n        }\r\n      });\r\n    });\r\n\r\n    return {\r\n      isValid: errors.length === 0,\r\n      errors,\r\n      warnings\r\n    };\r\n  }\r\n\r\n  private validateBlock(block: NotionBlock, options: ValidationOptions, depth = 0): (ValidationError | ValidationWarning)[] {\r\n    const issues: (ValidationError | ValidationWarning)[] = [];\r\n\r\n    // Validate block type\r\n    if (!block.type) {\r\n      issues.push({\r\n        type: 'error',\r\n        code: 'MISSING_BLOCK_TYPE',\r\n        message: 'Block is missing required type field'\r\n      });\r\n      return issues;\r\n    }\r\n\r\n    // Validate block structure based on type\r\n    switch (block.type) {\r\n      case 'paragraph':\r\n        issues.push(...this.validateParagraphBlock(block, options));\r\n        break;\r\n      case 'heading_1':\r\n      case 'heading_2':\r\n      case 'heading_3':\r\n        issues.push(...this.validateHeadingBlock(block, options));\r\n        break;\r\n      case 'bulleted_list_item':\r\n      case 'numbered_list_item':\r\n        issues.push(...this.validateListItemBlock(block, options));\r\n        break;\r\n      case 'to_do':\r\n        issues.push(...this.validateToDoBlock(block, options));\r\n        break;\r\n      case 'toggle':\r\n        issues.push(...this.validateToggleBlock(block, options));\r\n        break;\r\n      case 'code':\r\n        issues.push(...this.validateCodeBlock(block, options));\r\n        break;\r\n      case 'quote':\r\n        issues.push(...this.validateQuoteBlock(block, options));\r\n        break;\r\n      case 'callout':\r\n        issues.push(...this.validateCalloutBlock(block, options));\r\n        break;\r\n      case 'table':\r\n        issues.push(...this.validateTableBlock(block, options));\r\n        break;\r\n      case 'image':\r\n      case 'video':\r\n      case 'pdf':\r\n        issues.push(...this.validateMediaBlock(block, options));\r\n        break;\r\n      case 'bookmark':\r\n        issues.push(...this.validateBookmarkBlock(block, options));\r\n        break;\r\n      case 'equation':\r\n        issues.push(...this.validateEquationBlock(block, options));\r\n        break;\r\n      case 'divider':\r\n        // Divider blocks don't need validation\r\n        break;\r\n      default:\r\n        issues.push({\r\n          type: 'warning',\r\n          code: 'UNKNOWN_BLOCK_TYPE',\r\n          message: `Unknown block type: ${block.type}`\r\n        });\r\n    }\r\n\r\n    // Validate children blocks if present\r\n    if ((block as any).children && Array.isArray((block as any).children)) {\r\n      const children = (block as any).children;\r\n      \r\n      // Check children count\r\n      if (children.length > (options.maxChildrenCount || this.limits.maxChildrenCount)) {\r\n        issues.push({\r\n          type: 'warning',\r\n          code: 'TOO_MANY_CHILDREN',\r\n          message: `Block has ${children.length} children, exceeds limit of ${options.maxChildrenCount || this.limits.maxChildrenCount}`\r\n        });\r\n      }\r\n      \r\n      // Check nesting depth\r\n      if (depth >= (options.maxBlockDepth || this.limits.maxBlockDepth)) {\r\n        issues.push({\r\n          type: 'error',\r\n          code: 'NESTING_TOO_DEEP',\r\n          message: `Block nesting depth (${depth}) exceeds maximum allowed (${options.maxBlockDepth || this.limits.maxBlockDepth})`\r\n        });\r\n      } else {\r\n        // Recursively validate children\r\n        children.forEach((child: NotionBlock, childIndex: number) => {\r\n          const childIssues = this.validateBlock(child, options, depth + 1);\r\n          childIssues.forEach(issue => {\r\n            issues.push({\r\n              ...issue,\r\n              field: issue.field ? `children[${childIndex}].${issue.field}` : `children[${childIndex}]`\r\n            });\r\n          });\r\n        });\r\n      }\r\n    }\r\n\r\n    return issues;\r\n  }\r\n\r\n  private validateParagraphBlock(block: any, options: ValidationOptions): (ValidationError | ValidationWarning)[] {\r\n    const issues: (ValidationError | ValidationWarning)[] = [];\r\n\r\n    if (!block.paragraph) {\r\n      issues.push({\r\n        type: 'error',\r\n        code: 'MISSING_PARAGRAPH_CONTENT',\r\n        message: 'Paragraph block is missing paragraph field'\r\n      });\r\n      return issues;\r\n    }\r\n\r\n    if (options.validateRichText && block.paragraph.rich_text) {\r\n      issues.push(...this.validateRichText(block.paragraph.rich_text, 'paragraph.rich_text'));\r\n    }\r\n\r\n    return issues;\r\n  }\r\n\r\n  private validateHeadingBlock(block: any, options: ValidationOptions): (ValidationError | ValidationWarning)[] {\r\n    const issues: (ValidationError | ValidationWarning)[] = [];\r\n    const headingField = block[block.type];\r\n\r\n    if (!headingField) {\r\n      issues.push({\r\n        type: 'error',\r\n        code: 'MISSING_HEADING_CONTENT',\r\n        message: `Heading block is missing ${block.type} field`\r\n      });\r\n      return issues;\r\n    }\r\n\r\n    if (options.validateRichText && headingField.rich_text) {\r\n      issues.push(...this.validateRichText(headingField.rich_text, `${block.type}.rich_text`));\r\n    }\r\n\r\n    return issues;\r\n  }\r\n\r\n  private validateListItemBlock(block: any, options: ValidationOptions): (ValidationError | ValidationWarning)[] {\r\n    const issues: (ValidationError | ValidationWarning)[] = [];\r\n    const listField = block[block.type];\r\n\r\n    if (!listField) {\r\n      issues.push({\r\n        type: 'error',\r\n        code: 'MISSING_LIST_CONTENT',\r\n        message: `List item block is missing ${block.type} field`\r\n      });\r\n      return issues;\r\n    }\r\n\r\n    if (options.validateRichText && listField.rich_text) {\r\n      issues.push(...this.validateRichText(listField.rich_text, `${block.type}.rich_text`));\r\n    }\r\n\r\n    return issues;\r\n  }\r\n\r\n  private validateToDoBlock(block: any, options: ValidationOptions): (ValidationError | ValidationWarning)[] {\r\n    const issues: (ValidationError | ValidationWarning)[] = [];\r\n\r\n    if (!block.to_do) {\r\n      issues.push({\r\n        type: 'error',\r\n        code: 'MISSING_TODO_CONTENT',\r\n        message: 'To-do block is missing to_do field'\r\n      });\r\n      return issues;\r\n    }\r\n\r\n    if (typeof block.to_do.checked !== 'boolean') {\r\n      issues.push({\r\n        type: 'error',\r\n        code: 'INVALID_TODO_CHECKED',\r\n        message: 'To-do block checked field must be a boolean'\r\n      });\r\n    }\r\n\r\n    if (options.validateRichText && block.to_do.rich_text) {\r\n      issues.push(...this.validateRichText(block.to_do.rich_text, 'to_do.rich_text'));\r\n    }\r\n\r\n    return issues;\r\n  }\r\n\r\n  private validateToggleBlock(block: any, options: ValidationOptions): (ValidationError | ValidationWarning)[] {\r\n    const issues: (ValidationError | ValidationWarning)[] = [];\r\n\r\n    if (!block.toggle) {\r\n      issues.push({\r\n        type: 'error',\r\n        code: 'MISSING_TOGGLE_CONTENT',\r\n        message: 'Toggle block is missing toggle field'\r\n      });\r\n      return issues;\r\n    }\r\n\r\n    if (options.validateRichText && block.toggle.rich_text) {\r\n      issues.push(...this.validateRichText(block.toggle.rich_text, 'toggle.rich_text'));\r\n    }\r\n\r\n    return issues;\r\n  }\r\n\r\n  private validateCodeBlock(block: any, options: ValidationOptions): (ValidationError | ValidationWarning)[] {\r\n    const issues: (ValidationError | ValidationWarning)[] = [];\r\n\r\n    if (!block.code) {\r\n      issues.push({\r\n        type: 'error',\r\n        code: 'MISSING_CODE_CONTENT',\r\n        message: 'Code block is missing code field'\r\n      });\r\n      return issues;\r\n    }\r\n\r\n    if (options.validateRichText && block.code.rich_text) {\r\n      const richTextIssues = this.validateRichText(block.code.rich_text, 'code.rich_text');\r\n      \r\n      // Check code length\r\n      const totalLength = block.code.rich_text.reduce((sum: number, item: any) => {\r\n        return sum + (item.text?.content?.length || 0);\r\n      }, 0);\r\n\r\n      if (totalLength > this.limits.maxCodeLength) {\r\n        issues.push({\r\n          type: 'warning',\r\n          code: 'CODE_TOO_LONG',\r\n          message: `Code content length (${totalLength}) exceeds recommended limit (${this.limits.maxCodeLength})`\r\n        });\r\n      }\r\n\r\n      issues.push(...richTextIssues);\r\n    }\r\n\r\n    return issues;\r\n  }\r\n\r\n  private validateQuoteBlock(block: any, options: ValidationOptions): (ValidationError | ValidationWarning)[] {\r\n    const issues: (ValidationError | ValidationWarning)[] = [];\r\n\r\n    if (!block.quote) {\r\n      issues.push({\r\n        type: 'error',\r\n        code: 'MISSING_QUOTE_CONTENT',\r\n        message: 'Quote block is missing quote field'\r\n      });\r\n      return issues;\r\n    }\r\n\r\n    if (options.validateRichText && block.quote.rich_text) {\r\n      issues.push(...this.validateRichText(block.quote.rich_text, 'quote.rich_text'));\r\n    }\r\n\r\n    return issues;\r\n  }\r\n\r\n  private validateCalloutBlock(block: any, options: ValidationOptions): (ValidationError | ValidationWarning)[] {\r\n    const issues: (ValidationError | ValidationWarning)[] = [];\r\n\r\n    if (!block.callout) {\r\n      issues.push({\r\n        type: 'error',\r\n        code: 'MISSING_CALLOUT_CONTENT',\r\n        message: 'Callout block is missing callout field'\r\n      });\r\n      return issues;\r\n    }\r\n\r\n    if (options.validateRichText && block.callout.rich_text) {\r\n      issues.push(...this.validateRichText(block.callout.rich_text, 'callout.rich_text'));\r\n    }\r\n\r\n    // Validate icon\r\n    if (block.callout.icon) {\r\n      if (!block.callout.icon.type || !['emoji', 'external', 'file'].includes(block.callout.icon.type)) {\r\n        issues.push({\r\n          type: 'error',\r\n          code: 'INVALID_CALLOUT_ICON',\r\n          message: 'Callout icon must have a valid type (emoji, external, or file)'\r\n        });\r\n      }\r\n    }\r\n\r\n    return issues;\r\n  }\r\n\r\n  private validateTableBlock(block: any, _options: ValidationOptions): (ValidationError | ValidationWarning)[] {\r\n    const issues: (ValidationError | ValidationWarning)[] = [];\r\n\r\n    if (!block.table) {\r\n      issues.push({\r\n        type: 'error',\r\n        code: 'MISSING_TABLE_CONTENT',\r\n        message: 'Table block is missing table field'\r\n      });\r\n      return issues;\r\n    }\r\n\r\n    // Validate table width\r\n    if (typeof block.table.table_width !== 'number' || block.table.table_width < 1) {\r\n      issues.push({\r\n        type: 'error',\r\n        code: 'INVALID_TABLE_WIDTH',\r\n        message: 'Table width must be a positive number'\r\n      });\r\n    }\r\n\r\n    if (block.table.table_width > this.limits.maxTableWidth) {\r\n      issues.push({\r\n        type: 'warning',\r\n        code: 'TABLE_TOO_WIDE',\r\n        message: `Table width (${block.table.table_width}) exceeds recommended limit (${this.limits.maxTableWidth})`\r\n      });\r\n    }\r\n\r\n    return issues;\r\n  }\r\n\r\n  private validateMediaBlock(block: any, _options: ValidationOptions): (ValidationError | ValidationWarning)[] {\r\n    const issues: (ValidationError | ValidationWarning)[] = [];\r\n    const mediaField = block[block.type];\r\n\r\n    if (!mediaField) {\r\n      issues.push({\r\n        type: 'error',\r\n        code: 'MISSING_MEDIA_CONTENT',\r\n        message: `Media block is missing ${block.type} field`\r\n      });\r\n      return issues;\r\n    }\r\n\r\n    // Validate URL\r\n    if (mediaField.type === 'external' && mediaField.external?.url) {\r\n      const url = mediaField.external.url;\r\n      if (url.length > this.limits.maxUrlLength) {\r\n        issues.push({\r\n          type: 'warning',\r\n          code: 'URL_TOO_LONG',\r\n          message: `URL length (${url.length}) exceeds recommended limit (${this.limits.maxUrlLength})`\r\n        });\r\n      }\r\n\r\n      const urlPattern = /^https?:\\/\\/[^\\s<>\"{}|\\\\^`[\\]]+$/;\r\n      if (!urlPattern.test(url) || !url.includes('.')) {\r\n        issues.push({\r\n          type: 'error',\r\n          code: 'INVALID_URL',\r\n          message: `Invalid URL: ${url}`\r\n        });\r\n      }\r\n    }\r\n\r\n    return issues;\r\n  }\r\n\r\n  private validateBookmarkBlock(block: any, _options: ValidationOptions): (ValidationError | ValidationWarning)[] {\r\n    const issues: (ValidationError | ValidationWarning)[] = [];\r\n\r\n    if (!block.bookmark) {\r\n      issues.push({\r\n        type: 'error',\r\n        code: 'MISSING_BOOKMARK_CONTENT',\r\n        message: 'Bookmark block is missing bookmark field'\r\n      });\r\n      return issues;\r\n    }\r\n\r\n    // Validate URL\r\n    if (block.bookmark.url) {\r\n      const urlPattern = /^https?:\\/\\/[^\\s<>\"{}|\\\\^`[\\]]+$/;\r\n      if (!urlPattern.test(block.bookmark.url) || !block.bookmark.url.includes('.')) {\r\n        issues.push({\r\n          type: 'error',\r\n          code: 'INVALID_BOOKMARK_URL',\r\n          message: `Invalid bookmark URL: ${block.bookmark.url}`\r\n        });\r\n      }\r\n    } else {\r\n      issues.push({\r\n        type: 'error',\r\n        code: 'MISSING_BOOKMARK_URL',\r\n        message: 'Bookmark block is missing URL'\r\n      });\r\n    }\r\n\r\n    return issues;\r\n  }\r\n\r\n  private validateEquationBlock(block: any, _options: ValidationOptions): (ValidationError | ValidationWarning)[] {\r\n    const issues: (ValidationError | ValidationWarning)[] = [];\r\n\r\n    if (!block.equation) {\r\n      issues.push({\r\n        type: 'error',\r\n        code: 'MISSING_EQUATION_CONTENT',\r\n        message: 'Equation block is missing equation field'\r\n      });\r\n      return issues;\r\n    }\r\n\r\n    if (!block.equation.expression) {\r\n      issues.push({\r\n        type: 'error',\r\n        code: 'MISSING_EQUATION_EXPRESSION',\r\n        message: 'Equation block is missing expression'\r\n      });\r\n    } else if (block.equation.expression.length > this.limits.maxEquationLength) {\r\n      issues.push({\r\n        type: 'warning',\r\n        code: 'EQUATION_TOO_LONG',\r\n        message: `Equation length (${block.equation.expression.length}) exceeds recommended limit (${this.limits.maxEquationLength})`\r\n      });\r\n    }\r\n\r\n    return issues;\r\n  }\r\n\r\n  private validateRichText(richText: NotionRichText[], field: string): (ValidationError | ValidationWarning)[] {\r\n    const issues: (ValidationError | ValidationWarning)[] = [];\r\n\r\n    if (!Array.isArray(richText)) {\r\n      issues.push({\r\n        type: 'error',\r\n        code: 'INVALID_RICH_TEXT_FORMAT',\r\n        message: `${field} must be an array`,\r\n        field\r\n      });\r\n      return issues;\r\n    }\r\n\r\n    // Calculate total length\r\n    const totalLength = richText.reduce((sum, item) => {\r\n      const content = item.type === 'text' \r\n        ? item.text?.content || ''\r\n        : item.type === 'equation'\r\n        ? item.equation?.expression || ''\r\n        : '';\r\n      return sum + content.length;\r\n    }, 0);\r\n\r\n    if (totalLength > this.limits.maxRichTextLength) {\r\n      issues.push({\r\n        type: 'warning',\r\n        code: 'RICH_TEXT_TOO_LONG',\r\n        message: `Rich text length (${totalLength}) exceeds recommended limit (${this.limits.maxRichTextLength})`,\r\n        field\r\n      });\r\n    }\r\n\r\n    // Validate each rich text item\r\n    richText.forEach((item, index) => {\r\n      if (!item.type || !['text', 'mention', 'equation'].includes(item.type)) {\r\n        issues.push({\r\n          type: 'error',\r\n          code: 'INVALID_RICH_TEXT_TYPE',\r\n          message: `Rich text item ${index} has invalid type: ${item.type}`,\r\n          field: `${field}[${index}]`\r\n        });\r\n      }\r\n\r\n      if (item.type === 'text' && !item.text) {\r\n        issues.push({\r\n          type: 'error',\r\n          code: 'MISSING_TEXT_CONTENT',\r\n          message: `Rich text item ${index} is missing text field`,\r\n          field: `${field}[${index}]`\r\n        });\r\n      }\r\n\r\n      if (item.type === 'equation' && !item.equation?.expression) {\r\n        issues.push({\r\n          type: 'error',\r\n          code: 'MISSING_EQUATION_EXPRESSION',\r\n          message: `Rich text equation ${index} is missing expression`,\r\n          field: `${field}[${index}]`\r\n        });\r\n      }\r\n    });\r\n\r\n    return issues;\r\n  }\r\n\r\n  private validateBlockNesting(blocks: NotionBlock[], _options: ValidationOptions): (ValidationError | ValidationWarning)[] {\r\n    const issues: (ValidationError | ValidationWarning)[] = [];\r\n    \r\n    // Check for proper list nesting\r\n    for (let i = 0; i < blocks.length; i++) {\r\n      const block = blocks[i];\r\n      \r\n      if (this.isListItem(block)) {\r\n        // Check if list items are properly grouped\r\n        const nextBlock = blocks[i + 1];\r\n        if (nextBlock && this.isListItem(nextBlock) && \r\n            !this.areCompatibleListItems(block, nextBlock)) {\r\n          issues.push({\r\n            type: 'warning',\r\n            code: 'MIXED_LIST_TYPES',\r\n            message: `Mixed list types detected at block ${i}`,\r\n            blockIndex: i\r\n          });\r\n        }\r\n      }\r\n    }\r\n    \r\n    return issues;\r\n  }\r\n\r\n  private isListItem(block: NotionBlock): boolean {\r\n    return ['bulleted_list_item', 'numbered_list_item', 'to_do'].includes(block.type);\r\n  }\r\n\r\n  private areCompatibleListItems(block1: NotionBlock, block2: NotionBlock): boolean {\r\n    // Bulleted and to-do items can be mixed\r\n    if ((block1.type === 'bulleted_list_item' && block2.type === 'to_do') ||\r\n        (block1.type === 'to_do' && block2.type === 'bulleted_list_item')) {\r\n      return true;\r\n    }\r\n    \r\n    // Same types are compatible\r\n    return block1.type === block2.type;\r\n  }\r\n\r\n  /**\r\n   * Validate URLs accessibility (if enabled)\r\n   */\r\n  async validateUrlAccessibility(blocks: NotionBlock[]): Promise<ValidationResult> {\r\n    const errors: ValidationError[] = [];\r\n    const warnings: ValidationWarning[] = [];\r\n    \r\n    const urls = this.extractUrls(blocks);\r\n    \r\n    for (const { url, blockIndex, field } of urls) {\r\n      try {\r\n        // Simple URL validation (in real implementation, you might want to make HTTP requests)\r\n        const urlObj = new URL(url);\r\n        \r\n        // Check for common issues\r\n        if (urlObj.protocol !== 'https:' && urlObj.protocol !== 'http:') {\r\n          warnings.push({\r\n            type: 'warning',\r\n            code: 'UNSUPPORTED_PROTOCOL',\r\n            message: `URL uses unsupported protocol: ${urlObj.protocol}`,\r\n            blockIndex,\r\n            field\r\n          });\r\n        }\r\n        \r\n        if (urlObj.hostname === 'localhost' || urlObj.hostname.startsWith('127.')) {\r\n          warnings.push({\r\n            type: 'warning',\r\n            code: 'LOCAL_URL',\r\n            message: `URL points to localhost: ${url}`,\r\n            blockIndex,\r\n            field\r\n          });\r\n        }\r\n        \r\n      } catch (error) {\r\n        errors.push({\r\n          type: 'error',\r\n          code: 'INVALID_URL_FORMAT',\r\n          message: `Invalid URL format: ${url}`,\r\n          blockIndex,\r\n          field\r\n        });\r\n      }\r\n    }\r\n    \r\n    return {\r\n      isValid: errors.length === 0,\r\n      errors,\r\n      warnings\r\n    };\r\n  }\r\n\r\n  private extractUrls(blocks: NotionBlock[]): Array<{ url: string; blockIndex: number; field: string }> {\r\n    const urls: Array<{ url: string; blockIndex: number; field: string }> = [];\r\n    \r\n    blocks.forEach((block, blockIndex) => {\r\n      // Extract URLs from different block types\r\n      switch (block.type) {\r\n        case 'bookmark':\r\n          if ((block as any).bookmark?.url) {\r\n            urls.push({\r\n              url: (block as any).bookmark.url,\r\n              blockIndex,\r\n              field: 'bookmark.url'\r\n            });\r\n          }\r\n          break;\r\n          \r\n        case 'image':\r\n        case 'video':\r\n        case 'pdf':\r\n          const mediaField = (block as any)[block.type];\r\n          if (mediaField?.type === 'external' && mediaField.external?.url) {\r\n            urls.push({\r\n              url: mediaField.external.url,\r\n              blockIndex,\r\n              field: `${block.type}.external.url`\r\n            });\r\n          }\r\n          break;\r\n          \r\n        default:\r\n          // Extract URLs from rich text links\r\n          const richTextFields = this.getRichTextFields(block);\r\n          richTextFields.forEach(field => {\r\n            const richText = this.getNestedProperty(block, field);\r\n            if (Array.isArray(richText)) {\r\n              richText.forEach((item, itemIndex) => {\r\n                if (item.type === 'text' && item.text?.link?.url) {\r\n                  urls.push({\r\n                    url: item.text.link.url,\r\n                    blockIndex,\r\n                    field: `${field}[${itemIndex}].text.link.url`\r\n                  });\r\n                }\r\n              });\r\n            }\r\n          });\r\n      }\r\n    });\r\n    \r\n    return urls;\r\n  }\r\n\r\n  private getRichTextFields(block: NotionBlock): string[] {\r\n    switch (block.type) {\r\n      case 'paragraph':\r\n        return ['paragraph.rich_text'];\r\n      case 'heading_1':\r\n        return ['heading_1.rich_text'];\r\n      case 'heading_2':\r\n        return ['heading_2.rich_text'];\r\n      case 'heading_3':\r\n        return ['heading_3.rich_text'];\r\n      case 'bulleted_list_item':\r\n        return ['bulleted_list_item.rich_text'];\r\n      case 'numbered_list_item':\r\n        return ['numbered_list_item.rich_text'];\r\n      case 'to_do':\r\n        return ['to_do.rich_text'];\r\n      case 'toggle':\r\n        return ['toggle.rich_text'];\r\n      case 'quote':\r\n        return ['quote.rich_text'];\r\n      case 'callout':\r\n        return ['callout.rich_text'];\r\n      case 'code':\r\n        return ['code.rich_text'];\r\n      default:\r\n        return [];\r\n    }\r\n  }\r\n\r\n  private getNestedProperty(obj: any, path: string): any {\r\n    return path.split('.').reduce((current, key) => current?.[key], obj);\r\n  }\r\n\r\n  /**\r\n   * Get standardized error codes\r\n   */\r\n  static getErrorCodes(): Record<string, string> {\r\n    return {\r\n      // Block structure errors\r\n      'MISSING_BLOCK_TYPE': 'Block is missing required type field',\r\n      'UNKNOWN_BLOCK_TYPE': 'Unknown or unsupported block type',\r\n      'NESTING_TOO_DEEP': 'Block nesting exceeds maximum depth',\r\n      'TOO_MANY_BLOCKS': 'Too many blocks in request',\r\n      'TOO_MANY_CHILDREN': 'Block has too many child blocks',\r\n      \r\n      // Content errors\r\n      'MISSING_PARAGRAPH_CONTENT': 'Paragraph block missing content',\r\n      'MISSING_HEADING_CONTENT': 'Heading block missing content',\r\n      'MISSING_LIST_CONTENT': 'List item block missing content',\r\n      'MISSING_TODO_CONTENT': 'To-do block missing content',\r\n      'MISSING_TOGGLE_CONTENT': 'Toggle block missing content',\r\n      'MISSING_CODE_CONTENT': 'Code block missing content',\r\n      'MISSING_QUOTE_CONTENT': 'Quote block missing content',\r\n      'MISSING_CALLOUT_CONTENT': 'Callout block missing content',\r\n      'MISSING_TABLE_CONTENT': 'Table block missing content',\r\n      'MISSING_MEDIA_CONTENT': 'Media block missing content',\r\n      'MISSING_BOOKMARK_CONTENT': 'Bookmark block missing content',\r\n      'MISSING_EQUATION_CONTENT': 'Equation block missing content',\r\n      \r\n      // Rich text errors\r\n      'INVALID_RICH_TEXT_FORMAT': 'Rich text must be an array',\r\n      'INVALID_RICH_TEXT_TYPE': 'Invalid rich text item type',\r\n      'MISSING_TEXT_CONTENT': 'Text rich text item missing content',\r\n      'MISSING_EQUATION_EXPRESSION': 'Equation rich text item missing expression',\r\n      'RICH_TEXT_TOO_LONG': 'Rich text content exceeds length limit',\r\n      \r\n      // URL errors\r\n      'INVALID_URL': 'Invalid URL format',\r\n      'INVALID_BOOKMARK_URL': 'Invalid bookmark URL',\r\n      'MISSING_BOOKMARK_URL': 'Bookmark missing URL',\r\n      'URL_TOO_LONG': 'URL exceeds length limit',\r\n      'UNSUPPORTED_PROTOCOL': 'URL uses unsupported protocol',\r\n      'LOCAL_URL': 'URL points to localhost',\r\n      'INVALID_URL_FORMAT': 'Malformed URL',\r\n      \r\n      // Validation errors\r\n      'INVALID_TODO_CHECKED': 'To-do checked field must be boolean',\r\n      'INVALID_CALLOUT_ICON': 'Invalid callout icon type',\r\n      'INVALID_TABLE_WIDTH': 'Invalid table width',\r\n      'TABLE_TOO_WIDE': 'Table width exceeds limit',\r\n      'CODE_TOO_LONG': 'Code content exceeds length limit',\r\n      'EQUATION_TOO_LONG': 'Equation expression exceeds length limit',\r\n      \r\n      // Structure warnings\r\n      'MIXED_LIST_TYPES': 'Mixed list item types detected'\r\n    };\r\n  }\r\n}"],"version":3}