{"file":"C:\\Users\\rayan\\Desktop\\Dev\\NotionClipper\\packages\\notion-parser\\tests\\unit\\parsers\\CodeParser.test.ts","mappings":"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","names":[],"sources":["C:\\Users\\rayan\\Desktop\\Dev\\NotionClipper\\packages\\notion-parser\\tests\\unit\\parsers\\CodeParser.test.ts"],"sourcesContent":["/**\n * Tests unitaires pour CodeParser - Cahier des Charges v2.1\n * Couvre le parsing de code avec dÃ©tection de langage complÃ¨te\n */\n\nimport { CodeParser } from '../../../src/parsers/CodeParser';\nimport { parseContent } from '../../../src/parseContent';\n\ndescribe('CodeParser - Cahier des Charges v2.1', () => {\n  let parser: CodeParser;\n\n  beforeEach(() => {\n    parser = new CodeParser();\n  });\n\n  describe('Language Detection - JavaScript/TypeScript', () => {\n    it('should detect JavaScript with function declarations', () => {\n      const jsCode = 'function hello() {\\n  console.log(\"Hello World\");\\n  return true;\\n}';\n      const result = parser.parse(jsCode);\n      \n      expect(result).toHaveLength(1);\n      expect(result[0].type).toBe('code');\n      expect(result[0].metadata?.language).toBe('javascript');\n    });\n\n    it('should detect JavaScript with arrow functions', () => {\n      const jsCode = 'const hello = () => {\\n  console.log(\"Hello\");\\n};';\n      const result = parser.parse(jsCode);\n      \n      expect(result[0].metadata?.language).toBe('javascript');\n    });\n\n    it('should detect JavaScript with ES6 imports', () => {\n      const jsCode = 'import React from \"react\";\\nconst component = () => <div>Hello</div>;';\n      const result = parser.parse(jsCode);\n      \n      expect(result[0].metadata?.language).toBe('javascript');\n    });\n\n    it('should detect TypeScript with type annotations', () => {\n      const tsCode = 'interface User {\\n  name: string;\\n  age: number;\\n}\\nfunction greet(user: User): string {\\n  return `Hello ${user.name}`;\\n}';\n      const result = parser.parse(tsCode);\n      \n      expect(result[0].metadata?.language).toBe('typescript');\n    });\n\n    it('should detect TypeScript with generic types', () => {\n      const tsCode = 'function identity<T>(arg: T): T {\\n  return arg;\\n}';\n      const result = parser.parse(tsCode);\n      \n      expect(result[0].metadata?.language).toBe('typescript');\n    });\n  });\n\n  describe('Language Detection - Python', () => {\n    it('should detect Python with function definitions', () => {\n      const pythonCode = 'def hello():\\n    print(\"Hello World\")\\n    return True';\n      const result = parser.parse(pythonCode);\n      \n      expect(result[0].metadata?.language).toBe('python');\n    });\n\n    it('should detect Python with class definitions', () => {\n      const pythonCode = 'class MyClass:\\n    def __init__(self):\\n        self.value = 42';\n      const result = parser.parse(pythonCode);\n      \n      expect(result[0].metadata?.language).toBe('python');\n    });\n\n    it('should detect Python with imports', () => {\n      const pythonCode = 'import os\\nfrom datetime import datetime\\n\\nprint(\"Hello\")';\n      const result = parser.parse(pythonCode);\n      \n      expect(result[0].metadata?.language).toBe('python');\n    });\n\n    it('should detect Python with list comprehensions', () => {\n      const pythonCode = 'numbers = [x for x in range(10) if x % 2 == 0]';\n      const result = parser.parse(pythonCode);\n      \n      expect(result[0].metadata?.language).toBe('python');\n    });\n  });\n\n  describe('Language Detection - Java', () => {\n    it('should detect Java with class declarations', () => {\n      const javaCode = 'public class HelloWorld {\\n    public static void main(String[] args) {\\n        System.out.println(\"Hello World\");\\n    }\\n}';\n      const result = parser.parse(javaCode);\n      \n      expect(result[0].metadata?.language).toBe('java');\n    });\n\n    it('should detect Java with imports', () => {\n      const javaCode = 'import java.util.List;\\nimport java.util.ArrayList;\\n\\npublic class Test {}';\n      const result = parser.parse(javaCode);\n      \n      expect(result[0].metadata?.language).toBe('java');\n    });\n  });\n\n  describe('Language Detection - C/C++', () => {\n    it('should detect C with includes and main function', () => {\n      const cCode = '#include <stdio.h>\\n\\nint main() {\\n    printf(\"Hello World\");\\n    return 0;\\n}';\n      const result = parser.parse(cCode);\n      \n      expect(result[0].metadata?.language).toBe('c');\n    });\n\n    it('should detect C++ with std namespace', () => {\n      const cppCode = '#include <iostream>\\n\\nint main() {\\n    std::cout << \"Hello World\" << std::endl;\\n    return 0;\\n}';\n      const result = parser.parse(cppCode);\n      \n      expect(result[0].metadata?.language).toBe('c++');\n    });\n  });\n\n  describe('Language Detection - Other Languages', () => {\n    it('should detect C# with using statements', () => {\n      const csharpCode = 'using System;\\n\\nnamespace HelloWorld {\\n    public class Program {\\n        public static void Main() {\\n            Console.WriteLine(\"Hello World\");\\n        }\\n    }\\n}';\n      const result = parser.parse(csharpCode);\n      \n      expect(result[0].metadata?.language).toBe('c#');\n    });\n\n    it('should detect PHP with PHP tags', () => {\n      const phpCode = '<?php\\n$name = \"World\";\\necho \"Hello \" . $name;\\n?>';\n      const result = parser.parse(phpCode);\n      \n      expect(result[0].metadata?.language).toBe('php');\n    });\n\n    it('should detect Ruby with def and end', () => {\n      const rubyCode = 'def hello\\n  puts \"Hello World\"\\nend\\n\\nhello';\n      const result = parser.parse(rubyCode);\n      \n      expect(result[0].metadata?.language).toBe('ruby');\n    });\n\n    it('should detect Go with package and func', () => {\n      const goCode = 'package main\\n\\nimport \"fmt\"\\n\\nfunc main() {\\n    fmt.Println(\"Hello World\")\\n}';\n      const result = parser.parse(goCode);\n      \n      expect(result[0].metadata?.language).toBe('go');\n    });\n\n    it('should detect Rust with fn and println!', () => {\n      const rustCode = 'fn main() {\\n    println!(\"Hello World\");\\n}';\n      const result = parser.parse(rustCode);\n      \n      expect(result[0].metadata?.language).toBe('rust');\n    });\n\n    it('should detect SQL with SELECT statements', () => {\n      const sqlCode = 'SELECT name, age FROM users WHERE age > 18 ORDER BY name;';\n      const result = parser.parse(sqlCode);\n      \n      expect(result[0].metadata?.language).toBe('sql');\n    });\n\n    it('should detect CSS with selectors and properties', () => {\n      const cssCode = '.container {\\n  display: flex;\\n  justify-content: center;\\n  background-color: #f0f0f0;\\n}';\n      const result = parser.parse(cssCode);\n      \n      expect(result[0].metadata?.language).toBe('css');\n    });\n\n    it('should detect HTML with tags', () => {\n      const htmlCode = '<!DOCTYPE html>\\n<html>\\n<head>\\n    <title>Test</title>\\n</head>\\n<body>\\n    <h1>Hello World</h1>\\n</body>\\n</html>';\n      const result = parser.parse(htmlCode);\n      \n      expect(result[0].metadata?.language).toBe('html');\n    });\n  });\n\n  describe('Language Detection - Fallback', () => {\n    it('should fallback to plain text for unknown languages', () => {\n      const unknownCode = 'some unknown syntax here that does not match any pattern';\n      const result = parser.parse(unknownCode);\n      \n      expect(result[0].metadata?.language).toBe('plain text');\n    });\n\n    it('should handle mixed language content', () => {\n      const mixedCode = '// JavaScript comment\\nfunction test() {}\\n/* CSS comment */\\n.class { color: red; }';\n      const result = parser.parse(mixedCode);\n      \n      // Should detect the most prominent language (JavaScript in this case)\n      expect(['javascript', 'css', 'plain text']).toContain(result[0].metadata?.language);\n    });\n  });\n\n  describe('Code Block Structure', () => {\n    it('should create valid Notion code block structure', () => {\n      const code = 'const test = \"hello\";';\n      const result = parser.parse(code);\n      \n      expect(result).toHaveLength(1);\n      expect(result[0]).toMatchObject({\n        type: 'code',\n        content: code,\n        metadata: {\n          language: expect.any(String),\n          isBlock: true\n        }\n      });\n    });\n\n    it('should preserve code formatting and whitespace', () => {\n      const code = 'function test() {\\n    if (true) {\\n        return \"indented\";\\n    }\\n}';\n      const result = parser.parse(code);\n      \n      expect(result[0].content).toBe(code);\n    });\n\n    it('should handle empty code blocks', () => {\n      const code = '';\n      const result = parser.parse(code);\n      \n      expect(result).toEqual([]);\n    });\n\n    it('should handle whitespace-only code', () => {\n      const code = '   \\n\\t\\n   ';\n      const result = parser.parse(code);\n      \n      expect(result).toEqual([]);\n    });\n  });\n\n  describe('Content Truncation', () => {\n    it('should truncate extremely long code blocks', () => {\n      const longCode = 'a'.repeat(5000); // Exceeds 2000 char limit\n      const result = parser.parse(longCode);\n      \n      expect(result).toHaveLength(1);\n      expect(result[0].content.length).toBeLessThanOrEqual(2000);\n    });\n\n    it('should respect custom maxCodeLength option', () => {\n      const customParser = new CodeParser({ maxCodeLength: 100 });\n      const longCode = 'a'.repeat(200);\n      const result = customParser.parse(longCode);\n      \n      expect(result[0].content.length).toBeLessThanOrEqual(100);\n    });\n\n    it('should not truncate short code', () => {\n      const shortCode = 'function test() { return true; }';\n      const result = parser.parse(shortCode);\n      \n      expect(result[0].content).toBe(shortCode);\n    });\n  });\n\n  describe('Language Validation', () => {\n    it('should validate provided language from metadata', () => {\n      const customParser = new CodeParser({ \n        metadata: { language: 'python' } \n      });\n      const code = 'some code here';\n      const result = customParser.parse(code);\n      \n      expect(result[0].metadata?.language).toBe('python');\n    });\n\n    it('should fallback if provided language is invalid', () => {\n      const customParser = new CodeParser({ \n        metadata: { language: 'invalid-language' } \n      });\n      const jsCode = 'function test() {}';\n      const result = customParser.parse(jsCode);\n      \n      expect(result[0].metadata?.language).toBe('javascript'); // Auto-detected\n    });\n\n    it('should handle case-insensitive language names', () => {\n      const customParser = new CodeParser({ \n        metadata: { language: 'JAVASCRIPT' } \n      });\n      const code = 'some code';\n      const result = customParser.parse(code);\n      \n      expect(result[0].metadata?.language).toBe('javascript');\n    });\n  });\n\n  describe('Special Characters and Encoding', () => {\n    it('should handle code with special characters', () => {\n      const codeWithSpecial = 'const emoji = \"ðŸŽ¯\";\\nconst unicode = \"SpÃ©ciÃ l chÃ racters\";';\n      const result = parser.parse(codeWithSpecial);\n      \n      expect(result[0].content).toContain('ðŸŽ¯');\n      expect(result[0].content).toContain('SpÃ©ciÃ l');\n    });\n\n    it('should handle code with escape sequences', () => {\n      const codeWithEscapes = 'const str = \"Hello\\\\nWorld\\\\t!\";\\nconst regex = /\\\\d+/g;';\n      const result = parser.parse(codeWithEscapes);\n      \n      expect(result[0].content).toBe(codeWithEscapes);\n    });\n\n    it('should handle code with various quotes', () => {\n      const codeWithQuotes = `const single = 'single quotes';\\nconst double = \"double quotes\";\\nconst template = \\`template \\${literal}\\`;`;\n      const result = parser.parse(codeWithQuotes);\n      \n      expect(result[0].content).toBe(codeWithQuotes);\n    });\n  });\n\n  describe('Performance', () => {\n    it('should parse large code files efficiently', () => {\n      const largeCode = Array(1000).fill('function test() { return true; }').join('\\n');\n      \n      const startTime = Date.now();\n      const result = parser.parse(largeCode);\n      const duration = Date.now() - startTime;\n      \n      expect(result).toHaveLength(1);\n      expect(duration).toBeLessThan(100); // Should be fast\n    });\n\n    it('should handle concurrent code parsing', () => {\n      const codeSnippets = [\n        'const a = 1;',\n        'def func(): pass',\n        'public class Test {}',\n        '.class { color: red; }',\n        'SELECT * FROM table;'\n      ];\n      \n      const results = codeSnippets.map(code => parser.parse(code));\n      \n      results.forEach(result => {\n        expect(result).toHaveLength(1);\n        expect(result[0].type).toBe('code');\n      });\n    });\n  });\n\n  describe('Error Handling', () => {\n    it('should handle malformed code gracefully', () => {\n      const malformedCode = 'function unclosed() { if (true { return;';\n      const result = parser.parse(malformedCode);\n      \n      expect(result).toHaveLength(1);\n      expect(result[0].type).toBe('code');\n      expect(result[0].content).toBe(malformedCode);\n    });\n\n    it('should handle null and undefined input', () => {\n      expect(parser.parse(null as any)).toEqual([]);\n      expect(parser.parse(undefined as any)).toEqual([]);\n    });\n\n    it('should handle very short code snippets', () => {\n      const shortCode = 'x';\n      const result = parser.parse(shortCode);\n      \n      expect(result).toHaveLength(1);\n      expect(result[0].content).toBe(shortCode);\n    });\n  });\n\n  describe('Integration with parseContent', () => {\n    it('should work correctly with parseContent function', () => {\n      const jsCode = 'function hello() {\\n  console.log(\"Hello World\");\\n}';\n      const result = parseContent(jsCode, { contentType: 'code' });\n      \n      expect(result.success).toBe(true);\n      expect(result.blocks).toHaveLength(1);\n      expect(result.blocks[0].type).toBe('code');\n    });\n\n    it('should auto-detect code in parseContent', () => {\n      const pythonCode = 'def hello():\\n    print(\"Hello World\")';\n      const result = parseContent(pythonCode);\n      \n      expect(result.success).toBe(true);\n      expect(result.blocks).toHaveLength(1);\n      expect(result.blocks[0].type).toBe('code');\n    });\n  });\n});\n"],"version":3}