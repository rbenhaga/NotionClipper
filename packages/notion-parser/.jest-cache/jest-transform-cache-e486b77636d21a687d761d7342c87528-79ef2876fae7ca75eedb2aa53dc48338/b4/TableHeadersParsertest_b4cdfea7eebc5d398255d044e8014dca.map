{"file":"C:\\Users\\rayan\\Desktop\\Dev\\NotionClipper\\packages\\notion-parser\\tests\\unit\\parsers\\TableHeadersParser.test.ts","mappings":"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","names":[],"sources":["C:\\Users\\rayan\\Desktop\\Dev\\NotionClipper\\packages\\notion-parser\\tests\\unit\\parsers\\TableHeadersParser.test.ts"],"sourcesContent":["/**\r\n * Tests unitaires pour Table Headers - Nouvelle fonctionnalité v2.1\r\n * Couvre la détection automatique des headers de colonnes et lignes\r\n */\r\n\r\nimport { parseContent } from '../../../src/parseContent';\r\nimport type { NotionBlock } from '../../../src/types';\r\n\r\ndescribe('Table Headers Parser - Nouvelle fonctionnalité v2.1 ⭐', () => {\r\n  describe('Column Header Detection (has_column_header)', () => {\r\n    it('should detect column headers in CSV with text headers', () => {\r\n      const csvWithHeaders = `Name,Age,Department,Salary\r\nJohn Doe,30,Engineering,75000\r\nJane Smith,28,Design,68000\r\nBob Johnson,35,Marketing,72000`;\r\n      \r\n      const result = parseContent(csvWithHeaders, { contentType: 'csv' });\r\n      \r\n      expect(result.success).toBe(true);\r\n      expect(result.blocks).toHaveLength(1);\r\n      \r\n      const tableBlock = result.blocks[0] as any;\r\n      expect(tableBlock.type).toBe('table');\r\n      expect(tableBlock.table.has_column_header).toBe(true);\r\n      expect(tableBlock.table.has_row_header).toBe(false);\r\n    });\r\n\r\n    it('should detect column headers in TSV format', () => {\r\n      const tsvWithHeaders = `Product\\tPrice\\tCategory\\tStock\r\nLaptop\\t999.99\\tElectronics\\t50\r\nMouse\\t29.99\\tElectronics\\t200\r\nDesk\\t299.99\\tFurniture\\t15`;\r\n      \r\n      const result = parseContent(tsvWithHeaders, { contentType: 'tsv' });\r\n      \r\n      expect(result.success).toBe(true);\r\n      const tableBlock = result.blocks[0] as any;\r\n      expect(tableBlock.table.has_column_header).toBe(true);\r\n    });\r\n\r\n    it('should detect column headers in Markdown tables', () => {\r\n      const markdownTable = `| Name | Age | City |\r\n|------|-----|------|\r\n| John | 30  | NYC  |\r\n| Jane | 25  | LA   |\r\n| Bob  | 35  | SF   |`;\r\n      \r\n      const result = parseContent(markdownTable, { contentType: 'markdown' });\r\n      \r\n      expect(result.success).toBe(true);\r\n      const tableBlock = result.blocks.find((block: any) => block.type === 'table') as any;\r\n      expect(tableBlock).toBeDefined();\r\n      expect(tableBlock.table.has_column_header).toBe(true);\r\n    });\r\n\r\n    it('should NOT detect headers when first row contains only numbers', () => {\r\n      const csvWithoutHeaders = `1,2,3,4\r\n5,6,7,8\r\n9,10,11,12`;\r\n      \r\n      const result = parseContent(csvWithoutHeaders, { contentType: 'csv' });\r\n      \r\n      expect(result.success).toBe(true);\r\n      const tableBlock = result.blocks[0] as any;\r\n      expect(tableBlock.table.has_column_header).toBe(false);\r\n    });\r\n\r\n    it('should NOT detect headers when first row is mixed data', () => {\r\n      const csvMixedData = `john@email.com,30,2023-01-15,active\r\njane@email.com,25,2023-02-20,inactive\r\nbob@email.com,35,2023-03-10,active`;\r\n      \r\n      const result = parseContent(csvMixedData, { contentType: 'csv' });\r\n      \r\n      expect(result.success).toBe(true);\r\n      const tableBlock = result.blocks[0] as any;\r\n      expect(tableBlock.table.has_column_header).toBe(false);\r\n    });\r\n\r\n    it('should use heuristics for header detection', () => {\r\n      // Test case: First row has capitalized words, second row has data\r\n      const csvWithGoodHeaders = `First Name,Last Name,Email Address,Phone Number\r\njohn,doe,john@example.com,555-1234\r\njane,smith,jane@example.com,555-5678`;\r\n      \r\n      const result = parseContent(csvWithGoodHeaders, { contentType: 'csv' });\r\n      \r\n      expect(result.success).toBe(true);\r\n      const tableBlock = result.blocks[0] as any;\r\n      expect(tableBlock.table.has_column_header).toBe(true);\r\n    });\r\n  });\r\n\r\n  describe('Row Header Detection (has_row_header)', () => {\r\n    it('should detect row headers when first column contains labels', () => {\r\n      const csvWithRowHeaders = `Metric,Q1,Q2,Q3,Q4\r\nRevenue,100000,120000,110000,130000\r\nExpenses,80000,85000,82000,88000\r\nProfit,20000,35000,28000,42000`;\r\n      \r\n      const result = parseContent(csvWithRowHeaders, { contentType: 'csv' });\r\n      \r\n      expect(result.success).toBe(true);\r\n      const tableBlock = result.blocks[0] as any;\r\n      expect(tableBlock.table.has_column_header).toBe(true);\r\n      expect(tableBlock.table.has_row_header).toBe(true);\r\n    });\r\n\r\n    it('should detect row headers in financial data', () => {\r\n      const financialData = `Account,Jan,Feb,Mar\r\nAssets,50000,52000,54000\r\nLiabilities,30000,31000,32000\r\nEquity,20000,21000,22000`;\r\n      \r\n      const result = parseContent(financialData, { contentType: 'csv' });\r\n      \r\n      expect(result.success).toBe(true);\r\n      const tableBlock = result.blocks[0] as any;\r\n      expect(tableBlock.table.has_row_header).toBe(true);\r\n    });\r\n\r\n    it('should NOT detect row headers when first column is data', () => {\r\n      const csvWithoutRowHeaders = `1,Apple,Red,Sweet\r\n2,Banana,Yellow,Sweet\r\n3,Orange,Orange,Citrus`;\r\n      \r\n      const result = parseContent(csvWithoutRowHeaders, { contentType: 'csv' });\r\n      \r\n      expect(result.success).toBe(true);\r\n      const tableBlock = result.blocks[0] as any;\r\n      expect(tableBlock.table.has_row_header).toBe(false);\r\n    });\r\n  });\r\n\r\n  describe('Complex Header Scenarios', () => {\r\n    it('should handle tables with both column and row headers', () => {\r\n      const complexTable = `Region,North,South,East,West\r\nSales,1000,1200,800,900\r\nMarketing,200,250,150,180\r\nSupport,100,120,80,90`;\r\n      \r\n      const result = parseContent(complexTable, { contentType: 'csv' });\r\n      \r\n      expect(result.success).toBe(true);\r\n      const tableBlock = result.blocks[0] as any;\r\n      expect(tableBlock.table.has_column_header).toBe(true);\r\n      expect(tableBlock.table.has_row_header).toBe(true);\r\n    });\r\n\r\n    it('should handle tables with neither column nor row headers', () => {\r\n      const dataOnlyTable = `1,2,3,4\r\n5,6,7,8\r\n9,10,11,12\r\n13,14,15,16`;\r\n      \r\n      const result = parseContent(dataOnlyTable, { contentType: 'csv' });\r\n      \r\n      expect(result.success).toBe(true);\r\n      const tableBlock = result.blocks[0] as any;\r\n      expect(tableBlock.table.has_column_header).toBe(false);\r\n      expect(tableBlock.table.has_row_header).toBe(false);\r\n    });\r\n\r\n    it('should handle single-row tables', () => {\r\n      const singleRowTable = `Name,Age,City`;\r\n      \r\n      const result = parseContent(singleRowTable, { contentType: 'csv' });\r\n      \r\n      expect(result.success).toBe(true);\r\n      const tableBlock = result.blocks[0] as any;\r\n      expect(tableBlock.table.has_column_header).toBe(false); // Can't determine with single row\r\n    });\r\n\r\n    it('should handle single-column tables', () => {\r\n      const singleColumnTable = `Names\r\nJohn\r\nJane\r\nBob`;\r\n      \r\n      const result = parseContent(singleColumnTable, { contentType: 'csv' });\r\n      \r\n      expect(result.success).toBe(true);\r\n      const tableBlock = result.blocks[0] as any;\r\n      expect(tableBlock.table.has_column_header).toBe(true);\r\n    });\r\n  });\r\n\r\n  describe('Header Detection Options', () => {\r\n    it('should respect detectTableHeaders option', () => {\r\n      const csvWithHeaders = `Name,Age,City\r\nJohn,30,NYC\r\nJane,25,LA`;\r\n      \r\n      const withDetection = parseContent(csvWithHeaders, {\r\n        contentType: 'csv',\r\n        conversion: { convertTables: true }\r\n      });\r\n      \r\n      const withoutDetection = parseContent(csvWithHeaders, {\r\n        contentType: 'csv',\r\n        conversion: { convertTables: false }\r\n      });\r\n      \r\n      expect(withDetection.success).toBe(true);\r\n      expect(withoutDetection.success).toBe(true);\r\n      \r\n      const withHeaders = withDetection.blocks[0] as any;\r\n      const withoutHeaders = withoutDetection.blocks[0] as any;\r\n      \r\n      expect(withHeaders.table.has_column_header).toBe(true);\r\n      expect(withoutHeaders.table.has_column_header).toBe(false);\r\n    });\r\n  });\r\n\r\n  describe('Table Structure Validation', () => {\r\n    it('should create valid Notion table structure with headers', () => {\r\n      const csvTable = `Product,Price,Available\r\nLaptop,999.99,Yes\r\nMouse,29.99,Yes\r\nKeyboard,79.99,No`;\r\n      \r\n      const result = parseContent(csvTable, { contentType: 'csv' });\r\n      \r\n      expect(result.success).toBe(true);\r\n      const tableBlock = result.blocks[0] as any;\r\n      \r\n      // Validate complete table structure\r\n      expect(tableBlock).toMatchObject({\r\n        type: 'table',\r\n        table: {\r\n          table_width: 3,\r\n          has_column_header: true,\r\n          has_row_header: false,\r\n          children: expect.any(Array)\r\n        }\r\n      });\r\n      \r\n      // Validate table rows\r\n      expect(tableBlock.table.children).toHaveLength(4); // Header + 3 data rows\r\n      tableBlock.table.children.forEach((row: any) => {\r\n        expect(row.type).toBe('table_row');\r\n        expect(row.table_row.cells).toHaveLength(3);\r\n      });\r\n    });\r\n\r\n    it('should handle tables exceeding Notion column limit', () => {\r\n      const wideTable = `A,B,C,D,E,F,G,H\r\n1,2,3,4,5,6,7,8\r\n9,10,11,12,13,14,15,16`;\r\n      \r\n      const result = parseContent(wideTable, { contentType: 'csv' });\r\n      \r\n      expect(result.success).toBe(true);\r\n      const tableBlock = result.blocks[0] as any;\r\n      \r\n      // Should limit to 5 columns (Notion limit)\r\n      expect(tableBlock.table.table_width).toBeLessThanOrEqual(5);\r\n    });\r\n\r\n    it('should preserve cell content with proper rich text', () => {\r\n      const csvWithFormatting = `Name,Description\r\nJohn Doe,\"Software Engineer with **bold** text\"\r\nJane Smith,\"Designer with *italic* text\"`;\r\n      \r\n      const result = parseContent(csvWithFormatting, { contentType: 'csv' });\r\n      \r\n      expect(result.success).toBe(true);\r\n      const tableBlock = result.blocks[0] as any;\r\n      \r\n      // Check that cells contain rich text arrays\r\n      tableBlock.table.children.forEach((row: any) => {\r\n        row.table_row.cells.forEach((cell: any) => {\r\n          expect(Array.isArray(cell)).toBe(true);\r\n          if (cell.length > 0) {\r\n            expect(cell[0]).toHaveProperty('type', 'text');\r\n            expect(cell[0]).toHaveProperty('text');\r\n            expect(cell[0]).toHaveProperty('annotations');\r\n          }\r\n        });\r\n      });\r\n    });\r\n  });\r\n\r\n  describe('Header Detection Heuristics', () => {\r\n    it('should use multiple heuristics for column header detection', () => {\r\n      const testCases = [\r\n        {\r\n          name: 'Capitalized headers',\r\n          csv: `First Name,Last Name,Email\\njohn,doe,john@example.com`,\r\n          expectHeader: true\r\n        },\r\n        {\r\n          name: 'All caps headers',\r\n          csv: `NAME,AGE,CITY\\nJohn,30,NYC`,\r\n          expectHeader: true\r\n        },\r\n        {\r\n          name: 'Mixed case descriptive headers',\r\n          csv: `Customer Name,Order Date,Total Amount\\nJohn Doe,2023-01-15,99.99`,\r\n          expectHeader: true\r\n        },\r\n        {\r\n          name: 'Numeric data in first row',\r\n          csv: `1,2,3\\n4,5,6`,\r\n          expectHeader: false\r\n        },\r\n        {\r\n          name: 'Date data in first row',\r\n          csv: `2023-01-01,2023-01-02,2023-01-03\\n100,200,300`,\r\n          expectHeader: false\r\n        }\r\n      ];\r\n      \r\n      testCases.forEach(testCase => {\r\n        const result = parseContent(testCase.csv, { contentType: 'csv' });\r\n        \r\n        expect(result.success).toBe(true);\r\n        const tableBlock = result.blocks[0] as any;\r\n        expect(tableBlock.table.has_column_header).toBe(testCase.expectHeader);\r\n      });\r\n    });\r\n\r\n    it('should use statistical analysis for row header detection', () => {\r\n      const testCases = [\r\n        {\r\n          name: 'Text labels in first column',\r\n          csv: `Category,Value1,Value2\\nRevenue,1000,1200\\nExpenses,800,900`,\r\n          expectRowHeader: true\r\n        },\r\n        {\r\n          name: 'Numeric IDs in first column',\r\n          csv: `ID,Name,Age\\n1,John,30\\n2,Jane,25`,\r\n          expectRowHeader: false\r\n        },\r\n        {\r\n          name: 'Mixed descriptive labels',\r\n          csv: `Metric,Q1,Q2\\nTotal Sales,50000,60000\\nNew Customers,100,120`,\r\n          expectRowHeader: true\r\n        }\r\n      ];\r\n      \r\n      testCases.forEach(testCase => {\r\n        const result = parseContent(testCase.csv, { contentType: 'csv' });\r\n        \r\n        expect(result.success).toBe(true);\r\n        const tableBlock = result.blocks[0] as any;\r\n        expect(tableBlock.table.has_row_header).toBe(testCase.expectRowHeader);\r\n      });\r\n    });\r\n  });\r\n\r\n  describe('Performance and Edge Cases', () => {\r\n    it('should handle large tables efficiently', () => {\r\n      const largeTableRows = Array(1000).fill(0).map((_, i) => \r\n        `Row${i},Value${i},Data${i}`\r\n      );\r\n      const largeTable = `Header1,Header2,Header3\\n${largeTableRows.join('\\n')}`;\r\n      \r\n      const startTime = Date.now();\r\n      const result = parseContent(largeTable, { contentType: 'csv' });\r\n      const processingTime = Date.now() - startTime;\r\n      \r\n      expect(result.success).toBe(true);\r\n      expect(processingTime).toBeLessThan(1000); // Should be reasonably fast\r\n      \r\n      const tableBlock = result.blocks[0] as any;\r\n      expect(tableBlock.table.has_column_header).toBe(true);\r\n    });\r\n\r\n    it('should handle tables with empty cells', () => {\r\n      const tableWithEmpties = `Name,Age,City,Country\r\nJohn,30,,USA\r\nJane,,London,UK\r\n,25,Paris,France`;\r\n      \r\n      const result = parseContent(tableWithEmpties, { contentType: 'csv' });\r\n      \r\n      expect(result.success).toBe(true);\r\n      const tableBlock = result.blocks[0] as any;\r\n      expect(tableBlock.table.has_column_header).toBe(true);\r\n    });\r\n\r\n    it('should handle tables with special characters', () => {\r\n      const specialCharTable = `Nom,Âge,Ville\r\nJosé,30,São Paulo\r\nFrançois,25,Montréal\r\nMüller,35,München`;\r\n      \r\n      const result = parseContent(specialCharTable, { contentType: 'csv' });\r\n      \r\n      expect(result.success).toBe(true);\r\n      const tableBlock = result.blocks[0] as any;\r\n      expect(tableBlock.table.has_column_header).toBe(true);\r\n    });\r\n\r\n    it('should handle quoted CSV fields', () => {\r\n      const quotedCsv = `\"Product Name\",\"Price (USD)\",\"In Stock\"\r\n\"MacBook Pro\",\"1999.99\",\"Yes\"\r\n\"iPhone 14\",\"999.99\",\"No\"\r\n\"iPad Air\",\"599.99\",\"Yes\"`;\r\n      \r\n      const result = parseContent(quotedCsv, { contentType: 'csv' });\r\n      \r\n      expect(result.success).toBe(true);\r\n      const tableBlock = result.blocks[0] as any;\r\n      expect(tableBlock.table.has_column_header).toBe(true);\r\n    });\r\n  });\r\n\r\n  describe('Integration with Validation', () => {\r\n    it('should validate table header properties', () => {\r\n      const csvTable = `Name,Age\\nJohn,30\\nJane,25`;\r\n      const result = parseContent(csvTable, { \r\n        contentType: 'csv',\r\n        includeValidation: true \r\n      });\r\n      \r\n      expect(result.success).toBe(true);\r\n      expect(result.validation).toBeDefined();\r\n      expect(result.validation?.isValid).toBe(true);\r\n      \r\n      const tableBlock = result.blocks[0] as any;\r\n      expect(typeof tableBlock.table.has_column_header).toBe('boolean');\r\n      expect(typeof tableBlock.table.has_row_header).toBe('boolean');\r\n    });\r\n\r\n    it('should handle validation errors gracefully', () => {\r\n      const malformedTable = `Name,Age,City,Extra,TooMany,Columns,ForNotion\r\nJohn,30,NYC,1,2,3,4`;\r\n      \r\n      const result = parseContent(malformedTable, { \r\n        contentType: 'csv',\r\n        includeValidation: true \r\n      });\r\n      \r\n      expect(result.success).toBe(true);\r\n      // Should handle table width limits\r\n      const tableBlock = result.blocks[0] as any;\r\n      expect(tableBlock.table.table_width).toBeLessThanOrEqual(5);\r\n    });\r\n  });\r\n});"],"version":3}