{"version":3,"names":["BaseParser_1","cov_janw8sb04","s","require","ContentSanitizer_1","TableParser","BaseParser","constructor","options","b","f","parse","content","trim","contentType","parseCsv","parseTsv","parseMarkdownTable","parseDelimitedTable","delimiter","lines","split","filter","line","length","createTextNode","rows","map","parseDelimitedLine","hasColumnHeader","detectColumnHeaders","hasRowHeader","detectRowHeaders","headers","dataRows","slice","maxColumns","Math","max","row","normalizedHeaders","normalizeRow","normalizedRows","createTableNode","result","current","inQuotes","i","char","nextChar","push","tableLines","includes","headerLine","parseMarkdownTableRow","dataStartIndex","isMarkdownSeparatorLine","trimmed","withoutOuterPipes","startsWith","withoutTrailingPipe","endsWith","cell","ContentSanitizer","sanitizeTableCell","index","array","test","targetLength","normalized","firstRow","secondRow","firstRowHasText","some","isNaN","Number","secondRowHasNumbers","avgFirstRowLength","reduce","sum","avgSecondRowLength","headerKeywords","hasHeaderKeywords","keyword","toLowerCase","firstColumn","otherColumns","flat","firstColumnTextRatio","otherColumnsNumericRatio","type","metadata","columnCount","rowCount","children","detectTableFormat","pipeLines","tabLines","commaLines","exports"],"sources":["C:\\Users\\rayan\\Desktop\\Dev\\NotionClipper\\packages\\notion-parser\\src\\parsers\\TableParser.ts"],"sourcesContent":["import { BaseParser } from './BaseParser';\r\nimport type { ASTNode, ParseOptions } from '../types';\r\nimport { ContentSanitizer } from '../security/ContentSanitizer';\r\n\r\nexport class TableParser extends BaseParser {\r\n  constructor(options: ParseOptions = {}) {\r\n    super(options);\r\n  }\r\n\r\n  parse(content: string): ASTNode[] {\r\n    if (!content?.trim()) return [];\r\n\r\n    const contentType = this.options.contentType;\r\n    \r\n    switch (contentType) {\r\n      case 'csv':\r\n        return this.parseCsv(content);\r\n      case 'tsv':\r\n        return this.parseTsv(content);\r\n      case 'table':\r\n      default:\r\n        return this.parseMarkdownTable(content);\r\n    }\r\n  }\r\n\r\n  private parseCsv(content: string): ASTNode[] {\r\n    return this.parseDelimitedTable(content, ',');\r\n  }\r\n\r\n  private parseTsv(content: string): ASTNode[] {\r\n    return this.parseDelimitedTable(content, '\\t');\r\n  }\r\n\r\n  private parseDelimitedTable(content: string, delimiter: string): ASTNode[] {\r\n    const lines = content.split('\\n').filter(line => line.trim());\r\n    \r\n    if (lines.length < 2) {\r\n      // Not enough data for a table, return as text\r\n      return [this.createTextNode(content)];\r\n    }\r\n\r\n    // Parse CSV/TSV with proper quote handling\r\n    const rows = lines.map(line => this.parseDelimitedLine(line, delimiter));\r\n    \r\n    // Detect headers\r\n    const hasColumnHeader = this.detectColumnHeaders(rows);\r\n    const hasRowHeader = this.detectRowHeaders(rows);\r\n    \r\n    // Use first row as headers if detected\r\n    const headers = hasColumnHeader ? rows[0] : [];\r\n    const dataRows = hasColumnHeader ? rows.slice(1) : rows;\r\n\r\n    // Normalize row lengths\r\n    const maxColumns = Math.max(\r\n      headers.length, \r\n      ...dataRows.map(row => row.length)\r\n    );\r\n    \r\n    const normalizedHeaders = hasColumnHeader ? this.normalizeRow(headers, maxColumns) : [];\r\n    const normalizedRows = dataRows.map(row => this.normalizeRow(row, maxColumns));\r\n\r\n    return [this.createTableNode(normalizedHeaders, normalizedRows, {\r\n      hasColumnHeader,\r\n      hasRowHeader\r\n    })];\r\n  }\r\n\r\n  private parseDelimitedLine(line: string, delimiter: string): string[] {\r\n    const result: string[] = [];\r\n    let current = '';\r\n    let inQuotes = false;\r\n    let i = 0;\r\n\r\n    while (i < line.length) {\r\n      const char = line[i];\r\n      const nextChar = line[i + 1];\r\n\r\n      if (char === '\"') {\r\n        if (inQuotes && nextChar === '\"') {\r\n          // Escaped quote\r\n          current += '\"';\r\n          i += 2;\r\n        } else {\r\n          // Toggle quote state\r\n          inQuotes = !inQuotes;\r\n          i++;\r\n        }\r\n      } else if (char === delimiter && !inQuotes) {\r\n        // Field separator\r\n        result.push(current.trim());\r\n        current = '';\r\n        i++;\r\n      } else {\r\n        current += char;\r\n        i++;\r\n      }\r\n    }\r\n\r\n    // Add the last field\r\n    result.push(current.trim());\r\n\r\n    return result;\r\n  }\r\n\r\n  private parseMarkdownTable(content: string): ASTNode[] {\r\n    const lines = content.split('\\n').filter(line => line.trim());\r\n    \r\n    // Find table lines (containing |)\r\n    const tableLines = lines.filter(line => line.includes('|'));\r\n    \r\n    if (tableLines.length < 2) {\r\n      return [this.createTextNode(content)];\r\n    }\r\n\r\n    // Parse headers\r\n    const headerLine = tableLines[0];\r\n    const headers = this.parseMarkdownTableRow(headerLine);\r\n\r\n    // Check for separator line (indicates headers)\r\n    let dataStartIndex = 1;\r\n    let hasColumnHeader = false;\r\n    \r\n    if (tableLines.length > 1 && this.isMarkdownSeparatorLine(tableLines[1])) {\r\n      dataStartIndex = 2;\r\n      hasColumnHeader = true;\r\n    }\r\n\r\n    // Parse data rows\r\n    const dataRows = tableLines.slice(dataStartIndex)\r\n      .map(line => this.parseMarkdownTableRow(line))\r\n      .map(row => this.normalizeRow(row, headers.length));\r\n\r\n    // Detect row headers\r\n    const hasRowHeader = this.detectRowHeaders([headers, ...dataRows]);\r\n\r\n    return [this.createTableNode(headers, dataRows, {\r\n      hasColumnHeader,\r\n      hasRowHeader\r\n    })];\r\n  }\r\n\r\n  private parseMarkdownTableRow(line: string): string[] {\r\n    // Remove leading/trailing pipes and split\r\n    const trimmed = line.trim();\r\n    const withoutOuterPipes = trimmed.startsWith('|') ? trimmed.slice(1) : trimmed;\r\n    const withoutTrailingPipe = withoutOuterPipes.endsWith('|') \r\n      ? withoutOuterPipes.slice(0, -1) \r\n      : withoutOuterPipes;\r\n\r\n    return withoutTrailingPipe\r\n      .split('|')\r\n      .map(cell => ContentSanitizer.sanitizeTableCell(cell.trim()))\r\n      .filter((cell, index, array) => {\r\n        // Remove empty cells at the beginning and end\r\n        return !(cell === '' && (index === 0 || index === array.length - 1));\r\n      });\r\n  }\r\n\r\n  private isMarkdownSeparatorLine(line: string): boolean {\r\n    const trimmed = line.trim();\r\n    // Check if line contains only |, -, :, and spaces\r\n    return /^[\\|\\-:\\s]+$/.test(trimmed) && trimmed.includes('-');\r\n  }\r\n\r\n  private normalizeRow(row: string[], targetLength: number): string[] {\r\n    const normalized = [...row];\r\n    \r\n    // Pad with empty strings if too short\r\n    while (normalized.length < targetLength) {\r\n      normalized.push('');\r\n    }\r\n    \r\n    // Truncate if too long\r\n    if (normalized.length > targetLength) {\r\n      normalized.length = targetLength;\r\n    }\r\n    \r\n    return normalized;\r\n  }\r\n\r\n  /**\r\n   * Détecte si la première ligne contient des headers de colonnes\r\n   */\r\n  private detectColumnHeaders(rows: string[][]): boolean {\r\n    if (rows.length < 2) return false;\r\n    \r\n    const firstRow = rows[0];\r\n    const secondRow = rows[1];\r\n    \r\n    // Heuristiques pour détecter les headers :\r\n    // 1. Première ligne contient du texte, deuxième ligne contient des nombres\r\n    const firstRowHasText = firstRow.some(cell => \r\n      cell && isNaN(Number(cell)) && cell.trim() !== ''\r\n    );\r\n    \r\n    const secondRowHasNumbers = secondRow.some(cell => \r\n      cell && !isNaN(Number(cell))\r\n    );\r\n    \r\n    // 2. Première ligne a des cellules plus longues (noms descriptifs)\r\n    const avgFirstRowLength = firstRow.reduce((sum, cell) => sum + cell.length, 0) / firstRow.length;\r\n    const avgSecondRowLength = secondRow.reduce((sum, cell) => sum + cell.length, 0) / secondRow.length;\r\n    \r\n    // 3. Première ligne contient des mots typiques de headers\r\n    const headerKeywords = ['name', 'id', 'date', 'title', 'type', 'status', 'value', 'count'];\r\n    const hasHeaderKeywords = firstRow.some(cell => \r\n      headerKeywords.some(keyword => \r\n        cell.toLowerCase().includes(keyword)\r\n      )\r\n    );\r\n    \r\n    return (firstRowHasText && secondRowHasNumbers) || \r\n           (avgFirstRowLength > avgSecondRowLength * 1.2) ||\r\n           hasHeaderKeywords;\r\n  }\r\n\r\n  /**\r\n   * Détecte si la première colonne contient des headers de lignes\r\n   */\r\n  private detectRowHeaders(rows: string[][]): boolean {\r\n    if (rows.length < 2 || rows[0].length < 2) return false;\r\n    \r\n    // Vérifier si la première colonne contient du texte descriptif\r\n    // tandis que les autres colonnes contiennent principalement des données\r\n    const firstColumn = rows.map(row => row[0]).filter(cell => cell && cell.trim());\r\n    const otherColumns = rows.map(row => row.slice(1)).flat().filter(cell => cell && cell.trim());\r\n    \r\n    if (firstColumn.length === 0 || otherColumns.length === 0) return false;\r\n    \r\n    // Première colonne majoritairement textuelle\r\n    const firstColumnTextRatio = firstColumn.filter(cell => isNaN(Number(cell))).length / firstColumn.length;\r\n    \r\n    // Autres colonnes majoritairement numériques\r\n    const otherColumnsNumericRatio = otherColumns.filter(cell => !isNaN(Number(cell))).length / otherColumns.length;\r\n    \r\n    return firstColumnTextRatio > 0.7 && otherColumnsNumericRatio > 0.5;\r\n  }\r\n\r\n  /**\r\n   * Crée un nœud table avec les métadonnées de headers\r\n   */\r\n  protected createTableNode(headers: string[], rows: string[][], options: {\r\n    hasColumnHeader: boolean;\r\n    hasRowHeader: boolean;\r\n  } = { hasColumnHeader: false, hasRowHeader: false }): ASTNode {\r\n    return {\r\n      type: 'table',\r\n      content: '',\r\n      metadata: {\r\n        headers,\r\n        rows,\r\n        columnCount: Math.max(headers.length, ...rows.map(row => row.length)),\r\n        rowCount: rows.length + (options.hasColumnHeader ? 1 : 0),\r\n        hasColumnHeader: options.hasColumnHeader,\r\n        hasRowHeader: options.hasRowHeader\r\n      },\r\n      children: []\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Detect table format from content\r\n   */\r\n  static detectTableFormat(content: string): 'csv' | 'tsv' | 'markdown' | 'none' {\r\n    const lines = content.split('\\n').filter(line => line.trim());\r\n    \r\n    if (lines.length < 2) return 'none';\r\n\r\n    // Check for markdown table\r\n    const pipeLines = lines.filter(line => line.includes('|')).length;\r\n    if (pipeLines >= 2 && pipeLines / lines.length > 0.5) {\r\n      return 'markdown';\r\n    }\r\n\r\n    // Check for TSV (tab-separated)\r\n    const tabLines = lines.filter(line => line.includes('\\t')).length;\r\n    if (tabLines / lines.length > 0.7) {\r\n      return 'tsv';\r\n    }\r\n\r\n    // Check for CSV (comma-separated)\r\n    const commaLines = lines.filter(line => line.includes(',')).length;\r\n    if (commaLines / lines.length > 0.7) {\r\n      return 'csv';\r\n    }\r\n\r\n    return 'none';\r\n  }\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}